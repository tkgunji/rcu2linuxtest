<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RCU linux tools and drivers for the DCS board : dcs_driver.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>dcs_driver.c File Reference</h1><code>#include &lt;linux/kernel.h&gt;</code><br>
<code>#include &lt;linux/init.h&gt;</code><br>
<code>#include &lt;asm/uaccess.h&gt;</code><br>
<code>#include &lt;linux/fs.h&gt;</code><br>
<code>#include &lt;linux/types.h&gt;</code><br>
<code>#include &lt;linux/sched.h&gt;</code><br>
<code>#include &lt;linux/errno.h&gt;</code><br>
<code>#include &lt;linux/slab.h&gt;</code><br>
<code>#include &lt;asm/io.h&gt;</code><br>
<code>#include &lt;linux/mm.h&gt;</code><br>
<code>#include &lt;linux/ioport.h&gt;</code><br>
<code>#include &lt;linux/spinlock.h&gt;</code><br>
<code>#include &lt;asm/system.h&gt;</code><br>
<code>#include &lt;linux/module.h&gt;</code><br>
<code>#include &quot;<a class="el" href="drivers_2dcs__driver_8h-source.html">dcs_driver.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="version_8h-source.html">version.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="mrKernLogging_8h-source.html">mrKernLogging.h</a>&quot;</code><br>

<p>
Include dependency graph for dcs_driver.c:<p><center><img src="dcs__driver_8c__incl.png" border="0" usemap="#dcs_driver.c_map" alt=""></center>
<map name="dcs_driver.c_map">
<area href="drivers_2dcs__driver_8h.html" shape="rect" coords="168,752,267,781" alt="">
<area href="version_8h.html" shape="rect" coords="177,805,257,835" alt="">
<area href="mrKernLogging_8h.html" shape="rect" coords="152,859,283,888" alt="">
</map>

<p>
<a href="dcs__driver_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#a7df9168b4a69449407f92158064f6c3">DCSC_TEST</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#ceea4740d376694aba7b9a9cc7678ea5">module_param</a> (<a class="el" href="dcs__driver_8c.html#45c631d40e14d14a309abbe2b87ccd1b">dcsc_majorID</a>, int, S_IRUSR|S_IWUSR)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#0f08985cb950f96621515cfc98c5c4f8">module_param</a> (<a class="el" href="dcs__driver_8c.html#9a8b5688625d4564010909cb4e23192f">dcsc_msgbuf_in_size</a>, int, S_IRUSR|S_IWUSR)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#e0c152bc8846983b45977e0f6da06524">module_param</a> (<a class="el" href="dcs__driver_8c.html#57243357aaca143dc0a0e93dcd16eb89">dcsc_msgbuf_out_size</a>, int, S_IRUSR|S_IWUSR)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#172ae5ee71c938eb0332312d82619597">module_param</a> (<a class="el" href="dcs__driver_8c.html#898ab396bb466832c0c38ecc37f16632">dcsc_regfile_size</a>, int, S_IRUSR|S_IWUSR)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#b49852d26bb01c0e4a7addaf714bf8cf">module_param</a> (<a class="el" href="dcs__driver_8c.html#03af36d4209f6364a9f7a5f1087f19f9">msgbuf_in_physaddr</a>, uint, S_IRUSR|S_IWUSR)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#f217cc75a4e8cb0661b51a0bf23322fb">module_param</a> (<a class="el" href="dcs__driver_8c.html#89c68fc835da1b91e1d93eecb77922b6">msgbuf_out_physaddr</a>, uint, S_IRUSR|S_IWUSR)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#c6f3d27e211e849b579fac3c10ad3bf6">module_param</a> (<a class="el" href="dcs__driver_8c.html#607a6fb1f19bf1e11ec4fa99dc7efecd">regfile_physaddr</a>, uint, S_IRUSR|S_IWUSR)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#53fff30413e173391c35bdc5481c1719">MODULE_AUTHOR</a> (&quot;Matthias Richter&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#2eb38dffd9d03b7908c57b56ae9e9377">MODULE_DESCRIPTION</a> (&quot;dcs-card register driver&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#d94b36675e7eb067ea3ce6ff9e244a44">MODULE_LICENSE</a> (&quot;GPL&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#5fc9e61f41c571cca4373a64ca28d159">memtest</a> (u32 begin, u32 size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#24611c859ab5512627f0ebe5e71bb7df">dcs_comparevalue</a> (u32 begin, u32 size, u32 value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#aec6947dd189feeedeb22af3fbc21d81">dcs_writevalue</a> (u32 begin, u32 size, u32 value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#85874c4901b4b811c882944a3f77ff0e">dcs_read</a> (u32 begin, u32 size, u32 *buff)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#626a935595dad9fb4ce5cfdf4fd48f28">dcs_write</a> (u32 begin, u32 size, u32 *buff)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#0f2edb55399fbd36008bbded20c5ecab">findBufferForAddress</a> (loff_t offset, int <a class="el" href="dcs__driver_8c.html#269775bb092dfa3a11844c3d1883d988">iAccessMode</a>, u32 **ppBuffer, u32 *pPosition, const char **ppBufferName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#893d4c9fd97fbe478e6afc3f85688090">InitDriverLock</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#93880af66b0ace1e5b33443c98827142">lockActivate</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#002955b4359e4c1406c3477aed9b3660">lockReset</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#4a2481d7c54d6ec0d99bc8716a8a021f">checkAndLock</a> (int iSeizeCode, int pid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">spin-lock protected check of the lock status variable.  <a href="#4a2481d7c54d6ec0d99bc8716a8a021f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#69f4b1ea76e4eeed7eb2fed3adc6e847">lockDriver</a> (int iSeizeCode, int iTimeOut)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Try to lock the driver, go to sleep if already locked.  <a href="#69f4b1ea76e4eeed7eb2fed3adc6e847"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#b24f1a24af4b992a55590712ef09fcc1">unlockDriver</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock the driver and wake up all sleeping processes.  <a href="#b24f1a24af4b992a55590712ef09fcc1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#f65c837b7c30c1d6c4861e5dbb9a4e59">seizeDriver</a> (int iSeizeCode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock the driver to a single application.  <a href="#f65c837b7c30c1d6c4861e5dbb9a4e59"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#6ccbabe02e6e0af40d2b653b2a158d40">releaseDriver</a> (int iSeizeCode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release the driver which was locked to a single application.  <a href="#6ccbabe02e6e0af40d2b653b2a158d40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static loff_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#1b18195d839987757d645e7761bdfbc1">dcsc_llseek</a> (struct file *filp, loff_t off, int ref)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#8067a5efccbb89b363e4b12d4249bb07">dcsc_read</a> (struct file *filp, char *buf, size_t count, loff_t *f_pos)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#0c28bf0d1a698b2c9c598715bd37a9cb">dcsc_write</a> (struct file *filp, const char *buf, size_t count, loff_t *f_pos)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#1fc34702f88baf2a47a0434f6ea9e0cb">dcsc_open</a> (struct inode *inode, struct file *filp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#5350bab3f3d6d1f1e2c84ecafa150d68">dcsc_close</a> (struct inode *inode, struct file *filp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#c3b4c74273847bef0006306f638cc133">dcsc_mmap</a> (struct file *filp, struct vm_area_struct *vma)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#30d7523911ed6cebd68b1d5c34da9d64">dcsc_ioctl</a> (struct inode *inode, struct file *filp, unsigned int cmd, unsigned long arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#4e947987f98c75955b980cb3f0990356">cleanupSimulatedBuffers</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#32eac9309c374d1bb41b744548b437b7">initSimulatedBuffers</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#e52690ce6969b799366b2c5feba67b8c">init_module</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#bb8e1606224e802418862b898888063a">cleanup_module</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#45c631d40e14d14a309abbe2b87ccd1b">dcsc_majorID</a> = 150</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#9a8b5688625d4564010909cb4e23192f">dcsc_msgbuf_in_size</a> = 0x400</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#57243357aaca143dc0a0e93dcd16eb89">dcsc_msgbuf_out_size</a> = 0x400</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#898ab396bb466832c0c38ecc37f16632">dcsc_regfile_size</a> = 0x10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static u32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#03af36d4209f6364a9f7a5f1087f19f9">msgbuf_in_physaddr</a> = ((u32 *) 0x80000400)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static u32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#89c68fc835da1b91e1d93eecb77922b6">msgbuf_out_physaddr</a> = ((u32 *) 0x80000800)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static u32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#607a6fb1f19bf1e11ec4fa99dc7efecd">regfile_physaddr</a> = ((u32 *) 0x80000060)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static u32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#a6f29aaef9f61f455e1eeb2890ca8300">msgbuf_in_virtbase</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static u32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#6bd1f1592c9416c2bb4de131829a232d">msgbuf_out_virtbase</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static u32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#dd264756338f180733724b4ea909d1cf">regfile_virtbase</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#cfec91dabccaee73c52b9ad0b8bbfd5c">g_logfilename</a> [LOG_FILE_NAME_MAX_LENGTH] = &quot;&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#269775bb092dfa3a11844c3d1883d988">iAccessMode</a> = ACCESS_ALL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">wait_queue_head_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#c5ac2769997c4ac1e8307c4521c4b20e">g_waitQueue</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#983d0af3572a91f1c34b942ff8954544">g_iLockReset</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#18b5596c6309017456c046d61b05e3b1">g_iLock</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#750fd6e08c92777b860f11e575a4e804">g_iLockPid</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#2d3bbc70ca9389e34e840e3c3fade06d">g_iSeizeCode</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">spinlock_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#2f3f72c4a42056343b2c0ac401326cb4">g_spinlock</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#c23aa679017a305c1a149016fea0c003">g_iLockInitialized</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">file_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcs__driver_8c.html#010266ee96b0e2fd685de9f760d64dd8">dcsc_fops</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a7df9168b4a69449407f92158064f6c3"></a><!-- doxytag: member="dcs_driver.c::DCSC_TEST" ref="a7df9168b4a69449407f92158064f6c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DCSC_TEST          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00051">51</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
Referenced by <a class="el" href="backup_2rcu__flash_8c-source.html#l00299">rcu_flash_read()</a>, and <a class="el" href="backup_2rcu__flash_8c-source.html#l00343">rcu_flash_write()</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="4a2481d7c54d6ec0d99bc8716a8a021f"></a><!-- doxytag: member="dcs_driver.c::checkAndLock" ref="4a2481d7c54d6ec0d99bc8716a8a021f" args="(int iSeizeCode, int pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int checkAndLock           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iSeizeCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
spin-lock protected check of the lock status variable. 
<p>
If the lock is free it will be set. If the lock is owned by the current process the lock is incremented. The driver can be <em>master</em> locked by an application which causes the lock to return <em>permission denied</em> for requests by other applications. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>iSeizeCode</em>&nbsp;</td><td>master lock code given by the application </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iTimeOut</em>&nbsp;</td><td>time out (currently not used) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if free and now set, 0 if already blocked<br>
 -ETIMEDOUT if time out<br>
 -EPERM driver in master lock </dd></dl>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00353">353</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00283">g_iLock</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00287">g_iLockInitialized</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00284">g_iLockPid</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00285">g_iSeizeCode</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00286">g_spinlock</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00032">LOG_DBG</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00042">LOG_DRIVER_LCK</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, and <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_4a2481d7c54d6ec0d99bc8716a8a021f_cgraph.png" border="0" usemap="#dcs__driver_8c_4a2481d7c54d6ec0d99bc8716a8a021f_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_4a2481d7c54d6ec0d99bc8716a8a021f_cgraph_map">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="168,5,285,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="bb8e1606224e802418862b898888063a"></a><!-- doxytag: member="dcs_driver.c::cleanup_module" ref="bb8e1606224e802418862b898888063a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_module           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00680">680</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00494">cleanupRealBuffers()</a>, <a class="el" href="dcs__driver_8c-source.html#l00591">cleanupSimulatedBuffers()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00049">dcsc_majorID</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, and <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_bb8e1606224e802418862b898888063a_cgraph.png" border="0" usemap="#dcs__driver_8c_bb8e1606224e802418862b898888063a_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_bb8e1606224e802418862b898888063a_cgraph_map">
<area href="backup_2dcs__driver_8c.html#06a93d1b1348b354639233cdab90e9fe" shape="rect" coords="200,5,344,35" alt="">
<area href="dcs__driver_8c.html#4e947987f98c75955b980cb3f0990356" shape="rect" coords="181,59,363,88" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="213,112,331,141" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="4e947987f98c75955b980cb3f0990356"></a><!-- doxytag: member="dcs_driver.c::cleanupSimulatedBuffers" ref="4e947987f98c75955b980cb3f0990356" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanupSimulatedBuffers           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00591">591</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00080">msgbuf_out_virtbase</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00081">regfile_virtbase</a>.
<p>
Referenced by <a class="el" href="backup_2dcs__driver_8c-source.html#l00659">cleanup_module()</a>.
</div>
</div><p>
<a class="anchor" name="24611c859ab5512627f0ebe5e71bb7df"></a><!-- doxytag: member="dcs_driver.c::dcs_comparevalue" ref="24611c859ab5512627f0ebe5e71bb7df" args="(u32 begin, u32 size, u32 value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcs_comparevalue           </td>
          <td>(</td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00153">153</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="85874c4901b4b811c882944a3f77ff0e"></a><!-- doxytag: member="dcs_driver.c::dcs_read" ref="85874c4901b4b811c882944a3f77ff0e" args="(u32 begin, u32 size, u32 *buff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcs_read           </td>
          <td>(</td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&nbsp;</td>
          <td class="paramname"> <em>buff</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00190">190</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="626a935595dad9fb4ce5cfdf4fd48f28"></a><!-- doxytag: member="dcs_driver.c::dcs_write" ref="626a935595dad9fb4ce5cfdf4fd48f28" args="(u32 begin, u32 size, u32 *buff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcs_write           </td>
          <td>(</td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&nbsp;</td>
          <td class="paramname"> <em>buff</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00215">215</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="aec6947dd189feeedeb22af3fbc21d81"></a><!-- doxytag: member="dcs_driver.c::dcs_writevalue" ref="aec6947dd189feeedeb22af3fbc21d81" args="(u32 begin, u32 size, u32 value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcs_writevalue           </td>
          <td>(</td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00168">168</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="5350bab3f3d6d1f1e2c84ecafa150d68"></a><!-- doxytag: member="dcs_driver.c::dcsc_close" ref="5350bab3f3d6d1f1e2c84ecafa150d68" args="(struct inode *inode, struct file *filp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcsc_close           </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>filp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00871">871</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2mrKernLogging_8h-source.html#l00032">LOG_DBG</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00040">LOG_OPEN_CLOSE</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, and <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_5350bab3f3d6d1f1e2c84ecafa150d68_cgraph.png" border="0" usemap="#dcs__driver_8c_5350bab3f3d6d1f1e2c84ecafa150d68_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_5350bab3f3d6d1f1e2c84ecafa150d68_cgraph_map">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="147,5,264,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="30d7523911ed6cebd68b1d5c34da9d64"></a><!-- doxytag: member="dcs_driver.c::dcsc_ioctl" ref="30d7523911ed6cebd68b1d5c34da9d64" args="(struct inode *inode, struct file *filp, unsigned int cmd, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcsc_ioctl           </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00885">885</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00071">dcsc_msgbuf_in_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00072">dcsc_msgbuf_out_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00073">dcsc_regfile_size</a>, <a class="el" href="backup_2version_8h-source.html#l00030">DRIVER_MAJOR_VERSION_NUMBER</a>, <a class="el" href="backup_2version_8h-source.html#l00031">DRIVER_MINOR_VERSION_NUMBER</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00038">g_logfilename</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00037">g_logflags</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00058">IOCTL_ACTIVATE_LOCK</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00045">IOCTL_GET_MSGBUF_IN_SIZE</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00046">IOCTL_GET_MSGBUF_OUT_SIZE</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00047">IOCTL_GET_REGFILE_SIZE</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00052">IOCTL_GET_VERS_STR_SIZE</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00049">IOCTL_GET_VERSION</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00048">IOCTL_GET_VERSION_V02</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00055">IOCTL_LOCK_DRIVER</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00061">IOCTL_READ_REG</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00060">IOCTL_RELEASE_DRIVER</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00057">IOCTL_RESET_LOCK</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00059">IOCTL_SEIZE_DRIVER</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00053">IOCTL_SET_DEBUG_LEVEL</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00054">IOCTL_SET_LOG_FILE</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00043">IOCTL_TEST_MSGBUF_IN</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00044">IOCTL_TEST_MSGBUF_OUT</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00056">IOCTL_UNLOCK_DRIVER</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00062">IOCTL_WRITE_REG</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00302">lockActivate()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00363">lockDriver()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00309">lockReset()</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00032">LOG_DBG</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00038">LOG_IOCTL</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00030">LOG_WARNING</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00081">regfile_virtbase</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00441">releaseDriver()</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00078">RELEASETYPE</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00389">seizeDriver()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00410">unlockDriver()</a>, and <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00074">VERSION_STRING_SIZE</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_30d7523911ed6cebd68b1d5c34da9d64_cgraph.png" border="0" usemap="#dcs__driver_8c_30d7523911ed6cebd68b1d5c34da9d64_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_30d7523911ed6cebd68b1d5c34da9d64_cgraph_map">
<area href="backup_2dcs__driver_8c.html#a754eaa169b47cb26cf5e997276ebd81" shape="rect" coords="143,5,241,35" alt="">
<area href="backup_2dcs__driver_8c.html#69f4b1ea76e4eeed7eb2fed3adc6e847" shape="rect" coords="303,159,388,188" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="608,187,725,216" alt="">
<area href="backup_2dcs__driver_8c.html#bfe7c9dd41295bc3fe20fc96aa3ac39d" shape="rect" coords="151,341,233,371" alt="">
<area href="backup_2dcs__driver_8c.html#6ccbabe02e6e0af40d2b653b2a158d40" shape="rect" coords="139,184,245,213" alt="">
<area href="backup_2dcs__driver_8c.html#0e119609dea51ec090e7852dd9d0abad" shape="rect" coords="295,263,396,292" alt="">
<area href="backup_2dcs__driver_8c.html#f65c837b7c30c1d6c4861e5dbb9a4e59" shape="rect" coords="145,237,239,267" alt="">
<area href="backup_2dcs__driver_8c.html#4a2481d7c54d6ec0d99bc8716a8a021f" shape="rect" coords="445,109,560,139" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="1b18195d839987757d645e7761bdfbc1"></a><!-- doxytag: member="dcs_driver.c::dcsc_llseek" ref="1b18195d839987757d645e7761bdfbc1" args="(struct file *filp, loff_t off, int ref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static loff_t dcsc_llseek           </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00696">696</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2mrKernLogging_8h-source.html#l00032">LOG_DBG</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00036">LOG_LLSEEK</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, and <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_1b18195d839987757d645e7761bdfbc1_cgraph.png" border="0" usemap="#dcs__driver_8c_1b18195d839987757d645e7761bdfbc1_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_1b18195d839987757d645e7761bdfbc1_cgraph_map">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="149,5,267,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="c3b4c74273847bef0006306f638cc133"></a><!-- doxytag: member="dcs_driver.c::dcsc_mmap" ref="c3b4c74273847bef0006306f638cc133" args="(struct file *filp, struct vm_area_struct *vma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcsc_mmap           </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct vm_area_struct *&nbsp;</td>
          <td class="paramname"> <em>vma</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00878">878</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2mrKernLogging_8h-source.html#l00032">LOG_DBG</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00039">LOG_MMAP</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, and <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_c3b4c74273847bef0006306f638cc133_cgraph.png" border="0" usemap="#dcs__driver_8c_c3b4c74273847bef0006306f638cc133_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_c3b4c74273847bef0006306f638cc133_cgraph_map">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="155,5,272,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="1fc34702f88baf2a47a0434f6ea9e0cb"></a><!-- doxytag: member="dcs_driver.c::dcsc_open" ref="1fc34702f88baf2a47a0434f6ea9e0cb" args="(struct inode *inode, struct file *filp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcsc_open           </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>filp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00856">856</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00071">dcsc_msgbuf_in_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00072">dcsc_msgbuf_out_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00073">dcsc_regfile_size</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00040">LOG_OPEN_CLOSE</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00080">msgbuf_out_virtbase</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00081">regfile_virtbase</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_1fc34702f88baf2a47a0434f6ea9e0cb_cgraph.png" border="0" usemap="#dcs__driver_8c_1fc34702f88baf2a47a0434f6ea9e0cb_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_1fc34702f88baf2a47a0434f6ea9e0cb_cgraph_map">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="147,5,264,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="8067a5efccbb89b363e4b12d4249bb07"></a><!-- doxytag: member="dcs_driver.c::dcsc_read" ref="8067a5efccbb89b363e4b12d4249bb07" args="(struct file *filp, char *buf, size_t count, loff_t *f_pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcsc_read           </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>f_pos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00711">711</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00069">ACCESS_ALL</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00172">dcs_read()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00071">dcsc_msgbuf_in_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00072">dcsc_msgbuf_out_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00073">dcsc_regfile_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00102">iAccessMode</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00037">LOG_READ_WRITE</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00030">LOG_WARNING</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00080">msgbuf_out_virtbase</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00081">regfile_virtbase</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_8067a5efccbb89b363e4b12d4249bb07_cgraph.png" border="0" usemap="#dcs__driver_8c_8067a5efccbb89b363e4b12d4249bb07_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_8067a5efccbb89b363e4b12d4249bb07_cgraph_map">
<area href="backup_2dcs__driver_8c.html#85874c4901b4b811c882944a3f77ff0e" shape="rect" coords="160,5,240,35" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="141,59,259,88" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="0c28bf0d1a698b2c9c598715bd37a9cb"></a><!-- doxytag: member="dcs_driver.c::dcsc_write" ref="0c28bf0d1a698b2c9c598715bd37a9cb" args="(struct file *filp, const char *buf, size_t count, loff_t *f_pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dcsc_write           </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>f_pos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00786">786</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00069">ACCESS_ALL</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00197">dcs_write()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00071">dcsc_msgbuf_in_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00072">dcsc_msgbuf_out_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00073">dcsc_regfile_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00102">iAccessMode</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00037">LOG_READ_WRITE</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00030">LOG_WARNING</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00080">msgbuf_out_virtbase</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00081">regfile_virtbase</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_0c28bf0d1a698b2c9c598715bd37a9cb_cgraph.png" border="0" usemap="#dcs__driver_8c_0c28bf0d1a698b2c9c598715bd37a9cb_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_0c28bf0d1a698b2c9c598715bd37a9cb_cgraph_map">
<area href="backup_2dcs__driver_8c.html#626a935595dad9fb4ce5cfdf4fd48f28" shape="rect" coords="161,5,244,35" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="144,59,261,88" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="0f2edb55399fbd36008bbded20c5ecab"></a><!-- doxytag: member="dcs_driver.c::findBufferForAddress" ref="0f2edb55399fbd36008bbded20c5ecab" args="(loff_t offset, int iAccessMode, u32 **ppBuffer, u32 *pPosition, const char **ppBufferName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 findBufferForAddress           </td>
          <td>(</td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iAccessMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 **&nbsp;</td>
          <td class="paramname"> <em>ppBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&nbsp;</td>
          <td class="paramname"> <em>pPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>ppBufferName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00244">244</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00065">ACCESS_IN_BUFFER</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00066">ACCESS_OUT_BUFFER</a>, <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00067">ACCESS_REGFILE</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00071">dcsc_msgbuf_in_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00072">dcsc_msgbuf_out_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00073">dcsc_regfile_size</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00026">LOG_FLAG_ALL</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00079">msgbuf_in_virtbase</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00080">msgbuf_out_virtbase</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00081">regfile_virtbase</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_0f2edb55399fbd36008bbded20c5ecab_cgraph.png" border="0" usemap="#dcs__driver_8c_0f2edb55399fbd36008bbded20c5ecab_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_0f2edb55399fbd36008bbded20c5ecab_cgraph_map">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="211,5,328,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="e52690ce6969b799366b2c5feba67b8c"></a><!-- doxytag: member="dcs_driver.c::init_module" ref="e52690ce6969b799366b2c5feba67b8c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_module           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00645">645</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00480">dcsc_fops</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00049">dcsc_majorID</a>, <a class="el" href="backup_2version_8h-source.html#l00030">DRIVER_MAJOR_VERSION_NUMBER</a>, <a class="el" href="backup_2version_8h-source.html#l00031">DRIVER_MINOR_VERSION_NUMBER</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00289">InitDriverLock()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00505">initRealBuffers()</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, and <a class="el" href="drivers_2backup_2dcs__driver_8h-source.html#l00078">RELEASETYPE</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_e52690ce6969b799366b2c5feba67b8c_cgraph.png" border="0" usemap="#dcs__driver_8c_e52690ce6969b799366b2c5feba67b8c_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_e52690ce6969b799366b2c5feba67b8c_cgraph_map">
<area href="backup_2dcs__driver_8c.html#c619293d4edc146efb03fb6b03f8461f" shape="rect" coords="153,85,260,115" alt="">
<area href="backup_2dcs__driver_8c.html#b3161c882ef5359bf75cf6705c545cd4" shape="rect" coords="151,139,263,168" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="327,219,444,248" alt="">
<area href="backup_2dcs__driver_8c.html#06a93d1b1348b354639233cdab90e9fe" shape="rect" coords="313,5,457,35" alt="">
<area href="backup_2dcs__driver_8c.html#24611c859ab5512627f0ebe5e71bb7df" shape="rect" coords="313,59,457,88" alt="">
<area href="backup_2dcs__driver_8c.html#aec6947dd189feeedeb22af3fbc21d81" shape="rect" coords="327,112,444,141" alt="">
<area href="backup_2dcs__driver_8c.html#5fc9e61f41c571cca4373a64ca28d159" shape="rect" coords="347,165,424,195" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="893d4c9fd97fbe478e6afc3f85688090"></a><!-- doxytag: member="dcs_driver.c::InitDriverLock" ref="893d4c9fd97fbe478e6afc3f85688090" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int InitDriverLock           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00308">308</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00283">g_iLock</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00287">g_iLockInitialized</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00284">g_iLockPid</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00282">g_iLockReset</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00285">g_iSeizeCode</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00286">g_spinlock</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00281">g_waitQueue</a>.
</div>
</div><p>
<a class="anchor" name="32eac9309c374d1bb41b744548b437b7"></a><!-- doxytag: member="dcs_driver.c::initSimulatedBuffers" ref="32eac9309c374d1bb41b744548b437b7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initSimulatedBuffers           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00601">601</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00150">dcs_writevalue()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00071">dcsc_msgbuf_in_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00072">dcsc_msgbuf_out_size</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00073">dcsc_regfile_size</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00032">LOG_DBG</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00035">LOG_INTERNAL</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00113">memtest()</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00080">msgbuf_out_virtbase</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00081">regfile_virtbase</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_32eac9309c374d1bb41b744548b437b7_cgraph.png" border="0" usemap="#dcs__driver_8c_32eac9309c374d1bb41b744548b437b7_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_32eac9309c374d1bb41b744548b437b7_cgraph_map">
<area href="backup_2dcs__driver_8c.html#aec6947dd189feeedeb22af3fbc21d81" shape="rect" coords="203,5,320,35" alt="">
<area href="backup_2dcs__driver_8c.html#5fc9e61f41c571cca4373a64ca28d159" shape="rect" coords="223,59,300,88" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="203,112,320,141" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="93880af66b0ace1e5b33443c98827142"></a><!-- doxytag: member="dcs_driver.c::lockActivate" ref="93880af66b0ace1e5b33443c98827142" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lockActivate           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00321">321</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00282">g_iLockReset</a>.
</div>
</div><p>
<a class="anchor" name="69f4b1ea76e4eeed7eb2fed3adc6e847"></a><!-- doxytag: member="dcs_driver.c::lockDriver" ref="69f4b1ea76e4eeed7eb2fed3adc6e847" args="(int iSeizeCode, int iTimeOut)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lockDriver           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iSeizeCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iTimeOut</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Try to lock the driver, go to sleep if already locked. 
<p>
After the process got woken up it tries again to lock. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>iSeizeCode</em>&nbsp;</td><td>master lock code given by the application </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iTimeOut</em>&nbsp;</td><td>time out (currently not used) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if free and now set, 0 if already blocked<br>
 -ETIMEDOUT if time out<br>
 -EPERM driver in master lock </dd></dl>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00382">382</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00334">checkAndLock()</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00287">g_iLockInitialized</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00282">g_iLockReset</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00281">g_waitQueue</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00032">LOG_DBG</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00042">LOG_DRIVER_LCK</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, and <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_69f4b1ea76e4eeed7eb2fed3adc6e847_cgraph.png" border="0" usemap="#dcs__driver_8c_69f4b1ea76e4eeed7eb2fed3adc6e847_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_69f4b1ea76e4eeed7eb2fed3adc6e847_cgraph_map">
<area href="backup_2dcs__driver_8c.html#4a2481d7c54d6ec0d99bc8716a8a021f" shape="rect" coords="141,5,256,35" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="304,32,421,61" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="002955b4359e4c1406c3477aed9b3660"></a><!-- doxytag: member="dcs_driver.c::lockReset" ref="002955b4359e4c1406c3477aed9b3660" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lockReset           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00328">328</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00283">g_iLock</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00287">g_iLockInitialized</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00284">g_iLockPid</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00282">g_iLockReset</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00285">g_iSeizeCode</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00281">g_waitQueue</a>.
</div>
</div><p>
<a class="anchor" name="5fc9e61f41c571cca4373a64ca28d159"></a><!-- doxytag: member="dcs_driver.c::memtest" ref="5fc9e61f41c571cca4373a64ca28d159" args="(u32 begin, u32 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int memtest           </td>
          <td>(</td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00131">131</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="53fff30413e173391c35bdc5481c1719"></a><!-- doxytag: member="dcs_driver.c::MODULE_AUTHOR" ref="53fff30413e173391c35bdc5481c1719" args="(&quot;Matthias Richter&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_AUTHOR           </td>
          <td>(</td>
          <td class="paramtype">&quot;Matthias Richter&quot;&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2eb38dffd9d03b7908c57b56ae9e9377"></a><!-- doxytag: member="dcs_driver.c::MODULE_DESCRIPTION" ref="2eb38dffd9d03b7908c57b56ae9e9377" args="(&quot;dcs-card register driver&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION           </td>
          <td>(</td>
          <td class="paramtype">&quot;dcs-card register driver&quot;&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d94b36675e7eb067ea3ce6ff9e244a44"></a><!-- doxytag: member="dcs_driver.c::MODULE_LICENSE" ref="d94b36675e7eb067ea3ce6ff9e244a44" args="(&quot;GPL&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE           </td>
          <td>(</td>
          <td class="paramtype">&quot;GPL&quot;&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c6f3d27e211e849b579fac3c10ad3bf6"></a><!-- doxytag: member="dcs_driver.c::module_param" ref="c6f3d27e211e849b579fac3c10ad3bf6" args="(regfile_physaddr, uint, S_IRUSR|S_IWUSR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dcs__driver_8c.html#607a6fb1f19bf1e11ec4fa99dc7efecd">regfile_physaddr</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S_IRUSR|&nbsp;</td>
          <td class="paramname"> <em>S_IWUSR</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f217cc75a4e8cb0661b51a0bf23322fb"></a><!-- doxytag: member="dcs_driver.c::module_param" ref="f217cc75a4e8cb0661b51a0bf23322fb" args="(msgbuf_out_physaddr, uint, S_IRUSR|S_IWUSR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dcs__driver_8c.html#89c68fc835da1b91e1d93eecb77922b6">msgbuf_out_physaddr</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S_IRUSR|&nbsp;</td>
          <td class="paramname"> <em>S_IWUSR</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b49852d26bb01c0e4a7addaf714bf8cf"></a><!-- doxytag: member="dcs_driver.c::module_param" ref="b49852d26bb01c0e4a7addaf714bf8cf" args="(msgbuf_in_physaddr, uint, S_IRUSR|S_IWUSR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dcs__driver_8c.html#03af36d4209f6364a9f7a5f1087f19f9">msgbuf_in_physaddr</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S_IRUSR|&nbsp;</td>
          <td class="paramname"> <em>S_IWUSR</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="172ae5ee71c938eb0332312d82619597"></a><!-- doxytag: member="dcs_driver.c::module_param" ref="172ae5ee71c938eb0332312d82619597" args="(dcsc_regfile_size, int, S_IRUSR|S_IWUSR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dcs__driver_8c.html#898ab396bb466832c0c38ecc37f16632">dcsc_regfile_size</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S_IRUSR|&nbsp;</td>
          <td class="paramname"> <em>S_IWUSR</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e0c152bc8846983b45977e0f6da06524"></a><!-- doxytag: member="dcs_driver.c::module_param" ref="e0c152bc8846983b45977e0f6da06524" args="(dcsc_msgbuf_out_size, int, S_IRUSR|S_IWUSR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dcs__driver_8c.html#57243357aaca143dc0a0e93dcd16eb89">dcsc_msgbuf_out_size</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S_IRUSR|&nbsp;</td>
          <td class="paramname"> <em>S_IWUSR</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0f08985cb950f96621515cfc98c5c4f8"></a><!-- doxytag: member="dcs_driver.c::module_param" ref="0f08985cb950f96621515cfc98c5c4f8" args="(dcsc_msgbuf_in_size, int, S_IRUSR|S_IWUSR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dcs__driver_8c.html#9a8b5688625d4564010909cb4e23192f">dcsc_msgbuf_in_size</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S_IRUSR|&nbsp;</td>
          <td class="paramname"> <em>S_IWUSR</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ceea4740d376694aba7b9a9cc7678ea5"></a><!-- doxytag: member="dcs_driver.c::module_param" ref="ceea4740d376694aba7b9a9cc7678ea5" args="(dcsc_majorID, int, S_IRUSR|S_IWUSR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dcs__driver_8c.html#45c631d40e14d14a309abbe2b87ccd1b">dcsc_majorID</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S_IRUSR|&nbsp;</td>
          <td class="paramname"> <em>S_IWUSR</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6ccbabe02e6e0af40d2b653b2a158d40"></a><!-- doxytag: member="dcs_driver.c::releaseDriver" ref="6ccbabe02e6e0af40d2b653b2a158d40" args="(int iSeizeCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int releaseDriver           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iSeizeCode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Release the driver which was locked to a single application. 
<p>
The is the pendant to <a class="el" href="dcs__driver_8c.html#f65c837b7c30c1d6c4861e5dbb9a4e59">seizeDriver</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>iSeizeCode</em>&nbsp;</td><td>master lock code given by the application </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>&gt;=0 if success, neg. error code if failed </dd></dl>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00462">462</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00285">g_iSeizeCode</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00363">lockDriver()</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00042">LOG_DRIVER_LCK</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00410">unlockDriver()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_6ccbabe02e6e0af40d2b653b2a158d40_cgraph.png" border="0" usemap="#dcs__driver_8c_6ccbabe02e6e0af40d2b653b2a158d40_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_6ccbabe02e6e0af40d2b653b2a158d40_cgraph_map">
<area href="backup_2dcs__driver_8c.html#69f4b1ea76e4eeed7eb2fed3adc6e847" shape="rect" coords="161,56,247,85" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="459,83,576,112" alt="">
<area href="backup_2dcs__driver_8c.html#0e119609dea51ec090e7852dd9d0abad" shape="rect" coords="303,160,404,189" alt="">
<area href="backup_2dcs__driver_8c.html#4a2481d7c54d6ec0d99bc8716a8a021f" shape="rect" coords="296,5,411,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="f65c837b7c30c1d6c4861e5dbb9a4e59"></a><!-- doxytag: member="dcs_driver.c::seizeDriver" ref="f65c837b7c30c1d6c4861e5dbb9a4e59" args="(int iSeizeCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int seizeDriver           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iSeizeCode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lock the driver to a single application. 
<p>
The normal lock works for the different treads of that application, but no other application has the right to access. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>iSeizeCode</em>&nbsp;</td><td>a code to identify the master application </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>&gt;=0 if success, neg. error code if failed<br>
 -EPERM driver seized by another application </dd></dl>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00436">436</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00285">g_iSeizeCode</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00363">lockDriver()</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00042">LOG_DRIVER_LCK</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00031">LOG_INFO</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00030">LOG_WARNING</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>, and <a class="el" href="backup_2dcs__driver_8c-source.html#l00410">unlockDriver()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_f65c837b7c30c1d6c4861e5dbb9a4e59_cgraph.png" border="0" usemap="#dcs__driver_8c_f65c837b7c30c1d6c4861e5dbb9a4e59_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_f65c837b7c30c1d6c4861e5dbb9a4e59_cgraph_map">
<area href="backup_2dcs__driver_8c.html#69f4b1ea76e4eeed7eb2fed3adc6e847" shape="rect" coords="151,56,236,85" alt="">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="448,83,565,112" alt="">
<area href="backup_2dcs__driver_8c.html#0e119609dea51ec090e7852dd9d0abad" shape="rect" coords="292,160,393,189" alt="">
<area href="backup_2dcs__driver_8c.html#4a2481d7c54d6ec0d99bc8716a8a021f" shape="rect" coords="285,5,400,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="b24f1a24af4b992a55590712ef09fcc1"></a><!-- doxytag: member="dcs_driver.c::unlockDriver" ref="b24f1a24af4b992a55590712ef09fcc1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unlockDriver           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unlock the driver and wake up all sleeping processes. 
<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00403">403</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
<p>
References <a class="el" href="backup_2dcs__driver_8c-source.html#l00283">g_iLock</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00287">g_iLockInitialized</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00284">g_iLockPid</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00286">g_spinlock</a>, <a class="el" href="backup_2dcs__driver_8c-source.html#l00281">g_waitQueue</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00032">LOG_DBG</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00042">LOG_DRIVER_LCK</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00029">LOG_ERROR</a>, <a class="el" href="backup_2mrKernLogging_8h-source.html#l00030">LOG_WARNING</a>, <a class="el" href="backup_2mrKernLogging_8c-source.html#l00029">MR_KERN_DEBUG</a>, and <a class="el" href="backup_2mrKernLogging_8c-source.html#l00041">mrlogmessage()</a>.
<p>
Here is the call graph for this function:<p><center><img src="dcs__driver_8c_b24f1a24af4b992a55590712ef09fcc1_cgraph.png" border="0" usemap="#dcs__driver_8c_b24f1a24af4b992a55590712ef09fcc1_cgraph_map" alt=""></center>
<map name="dcs__driver_8c_b24f1a24af4b992a55590712ef09fcc1_cgraph_map">
<area href="backup_2mrKernLogging_8c.html#6f0ff7e8e3d5f37f0817d5b0e1907187" shape="rect" coords="157,5,275,35" alt="">
</map>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="010266ee96b0e2fd685de9f760d64dd8"></a><!-- doxytag: member="dcs_driver.c::dcsc_fops" ref="010266ee96b0e2fd685de9f760d64dd8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations <a class="el" href="dcs__driver_8c.html#010266ee96b0e2fd685de9f760d64dd8">dcsc_fops</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
  llseek:  <a class="code" href="backup_2dcs__driver_8c.html#1b18195d839987757d645e7761bdfbc1">dcsc_llseek</a>,
  read:    <a class="code" href="backup_2dcs__driver_8c.html#8067a5efccbb89b363e4b12d4249bb07">dcsc_read</a>,
  write:   <a class="code" href="backup_2dcs__driver_8c.html#0c28bf0d1a698b2c9c598715bd37a9cb">dcsc_write</a>,
  ioctl:   <a class="code" href="backup_2dcs__driver_8c.html#30d7523911ed6cebd68b1d5c34da9d64">dcsc_ioctl</a>,
  mmap:    <a class="code" href="backup_2dcs__driver_8c.html#c3b4c74273847bef0006306f638cc133">dcsc_mmap</a>,
  open:    <a class="code" href="backup_2dcs__driver_8c.html#1fc34702f88baf2a47a0434f6ea9e0cb">dcsc_open</a>,
  release: <a class="code" href="backup_2dcs__driver_8c.html#5350bab3f3d6d1f1e2c84ecafa150d68">dcsc_close</a>,
}
</pre></div>
<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00501">501</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="45c631d40e14d14a309abbe2b87ccd1b"></a><!-- doxytag: member="dcs_driver.c::dcsc_majorID" ref="45c631d40e14d14a309abbe2b87ccd1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#45c631d40e14d14a309abbe2b87ccd1b">dcsc_majorID</a> = 150          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00055">55</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="9a8b5688625d4564010909cb4e23192f"></a><!-- doxytag: member="dcs_driver.c::dcsc_msgbuf_in_size" ref="9a8b5688625d4564010909cb4e23192f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#9a8b5688625d4564010909cb4e23192f">dcsc_msgbuf_in_size</a> = 0x400<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00078">78</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="57243357aaca143dc0a0e93dcd16eb89"></a><!-- doxytag: member="dcs_driver.c::dcsc_msgbuf_out_size" ref="57243357aaca143dc0a0e93dcd16eb89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#57243357aaca143dc0a0e93dcd16eb89">dcsc_msgbuf_out_size</a> = 0x400<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00079">79</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="898ab396bb466832c0c38ecc37f16632"></a><!-- doxytag: member="dcs_driver.c::dcsc_regfile_size" ref="898ab396bb466832c0c38ecc37f16632" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#898ab396bb466832c0c38ecc37f16632">dcsc_regfile_size</a> = 0x10<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00080">80</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="18b5596c6309017456c046d61b05e3b1"></a><!-- doxytag: member="dcs_driver.c::g_iLock" ref="18b5596c6309017456c046d61b05e3b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#18b5596c6309017456c046d61b05e3b1">g_iLock</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00302">302</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="c23aa679017a305c1a149016fea0c003"></a><!-- doxytag: member="dcs_driver.c::g_iLockInitialized" ref="c23aa679017a305c1a149016fea0c003" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#c23aa679017a305c1a149016fea0c003">g_iLockInitialized</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00306">306</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="750fd6e08c92777b860f11e575a4e804"></a><!-- doxytag: member="dcs_driver.c::g_iLockPid" ref="750fd6e08c92777b860f11e575a4e804" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#750fd6e08c92777b860f11e575a4e804">g_iLockPid</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00303">303</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="983d0af3572a91f1c34b942ff8954544"></a><!-- doxytag: member="dcs_driver.c::g_iLockReset" ref="983d0af3572a91f1c34b942ff8954544" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#983d0af3572a91f1c34b942ff8954544">g_iLockReset</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00301">301</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="2d3bbc70ca9389e34e840e3c3fade06d"></a><!-- doxytag: member="dcs_driver.c::g_iSeizeCode" ref="2d3bbc70ca9389e34e840e3c3fade06d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#2d3bbc70ca9389e34e840e3c3fade06d">g_iSeizeCode</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00304">304</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="cfec91dabccaee73c52b9ad0b8bbfd5c"></a><!-- doxytag: member="dcs_driver.c::g_logfilename" ref="cfec91dabccaee73c52b9ad0b8bbfd5c" args="[LOG_FILE_NAME_MAX_LENGTH]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="dcs__driver_8c.html#cfec91dabccaee73c52b9ad0b8bbfd5c">g_logfilename</a>[LOG_FILE_NAME_MAX_LENGTH] = &quot;&quot;<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00090">90</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="2f3f72c4a42056343b2c0ac401326cb4"></a><!-- doxytag: member="dcs_driver.c::g_spinlock" ref="2f3f72c4a42056343b2c0ac401326cb4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t <a class="el" href="dcs__driver_8c.html#2f3f72c4a42056343b2c0ac401326cb4">g_spinlock</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00305">305</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="c5ac2769997c4ac1e8307c4521c4b20e"></a><!-- doxytag: member="dcs_driver.c::g_waitQueue" ref="c5ac2769997c4ac1e8307c4521c4b20e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wait_queue_head_t <a class="el" href="dcs__driver_8c.html#c5ac2769997c4ac1e8307c4521c4b20e">g_waitQueue</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00300">300</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="269775bb092dfa3a11844c3d1883d988"></a><!-- doxytag: member="dcs_driver.c::iAccessMode" ref="269775bb092dfa3a11844c3d1883d988" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="dcs__driver_8c.html#269775bb092dfa3a11844c3d1883d988">iAccessMode</a> = ACCESS_ALL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00120">120</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="03af36d4209f6364a9f7a5f1087f19f9"></a><!-- doxytag: member="dcs_driver.c::msgbuf_in_physaddr" ref="03af36d4209f6364a9f7a5f1087f19f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32* <a class="el" href="dcs__driver_8c.html#03af36d4209f6364a9f7a5f1087f19f9">msgbuf_in_physaddr</a> = ((u32 *) 0x80000400)<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00081">81</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="a6f29aaef9f61f455e1eeb2890ca8300"></a><!-- doxytag: member="dcs_driver.c::msgbuf_in_virtbase" ref="a6f29aaef9f61f455e1eeb2890ca8300" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32* <a class="el" href="dcs__driver_8c.html#a6f29aaef9f61f455e1eeb2890ca8300">msgbuf_in_virtbase</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00086">86</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="89c68fc835da1b91e1d93eecb77922b6"></a><!-- doxytag: member="dcs_driver.c::msgbuf_out_physaddr" ref="89c68fc835da1b91e1d93eecb77922b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32* <a class="el" href="dcs__driver_8c.html#89c68fc835da1b91e1d93eecb77922b6">msgbuf_out_physaddr</a> = ((u32 *) 0x80000800)<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00082">82</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="6bd1f1592c9416c2bb4de131829a232d"></a><!-- doxytag: member="dcs_driver.c::msgbuf_out_virtbase" ref="6bd1f1592c9416c2bb4de131829a232d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32* <a class="el" href="dcs__driver_8c.html#6bd1f1592c9416c2bb4de131829a232d">msgbuf_out_virtbase</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00087">87</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="607a6fb1f19bf1e11ec4fa99dc7efecd"></a><!-- doxytag: member="dcs_driver.c::regfile_physaddr" ref="607a6fb1f19bf1e11ec4fa99dc7efecd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32* <a class="el" href="dcs__driver_8c.html#607a6fb1f19bf1e11ec4fa99dc7efecd">regfile_physaddr</a> = ((u32 *) 0x80000060)<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00083">83</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<a class="anchor" name="dd264756338f180733724b4ea909d1cf"></a><!-- doxytag: member="dcs_driver.c::regfile_virtbase" ref="dd264756338f180733724b4ea909d1cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32* <a class="el" href="dcs__driver_8c.html#dd264756338f180733724b4ea909d1cf">regfile_virtbase</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="dcs__driver_8c-source.html#l00088">88</a> of file <a class="el" href="dcs__driver_8c-source.html">dcs_driver.c</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on 12 Nov 2013 for RCU linux tools and drivers for the DCS board  by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
