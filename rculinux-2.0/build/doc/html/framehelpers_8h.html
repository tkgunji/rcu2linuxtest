<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RCU linux tools and drivers for the DCS board : framehelpers.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>framehelpers.h File Reference</h1>Helpfunctions for programs that have to deal with Frames. <a href="#_details">More...</a>
<p>
<code>#include &lt;linux/types.h&gt;</code><br>

<p>
Include dependency graph for framehelpers.h:<p><center><img src="framehelpers_8h__incl.png" border="0" usemap="#framehelpers.h_map" alt=""></center>

<p>
This graph shows which files directly or indirectly include this file:<p><center><img src="framehelpers_8h__dep__incl.png" border="0" usemap="#framehelpers.hdep_map" alt=""></center>
<map name="framehelpers.hdep_map">
<area href="framehelpers_8c.html" shape="rect" coords="173,5,293,35" alt="">
</map>

<p>
<a href="framehelpers_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__u16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#ec06976aa28c099e56494e715860844b">getUpperAddress</a> (__u32 u32address)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The bits 16 to 31 from an 32 bit address are returned as an 16 bit address.  <a href="#ec06976aa28c099e56494e715860844b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__u16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#045a12bd4874a62c6ed9e9f3ced0c480">getLowerAddress</a> (__u32 u32address)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The bits 0 to 15 from an 32 bit address are returned as an 16 bit address.  <a href="#045a12bd4874a62c6ed9e9f3ced0c480"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#019759de9c99bad88139a7ca43d05315">getFileSize</a> (char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">checks the filesize of a file with the given path  <a href="#019759de9c99bad88139a7ca43d05315"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#cd171ecc285f52f3d632227fff34b6fc">calculateStopAddress</a> (int filesize, int startaddress)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculates the stop address for initial config and scrubbing after the formula: stopaddress = (startaddress + (filesize / 2) - 1) if the firmware has the version 1.2 then 0x100h is added to the stopaddress.  <a href="#cd171ecc285f52f3d632227fff34b6fc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#527bff0bf2cd2780c8d0bbe5658c7e71">enterFlashState</a> (int oldstate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">if state is different from flash, then the flash state will be entered.  <a href="#527bff0bf2cd2780c8d0bbe5658c7e71"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#2ff76e903eb4ccb3b086b6d1d2e895c0">getBusState</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">checks the state of the RCU BUS and returns this state  <a href="#2ff76e903eb4ccb3b086b6d1d2e895c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#1b593ec8f8b80418b87f3d9da5d6935a">restoreBusState</a> (int oldstate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If the oldstate was something different then flash, restoreBusState switches back to this state.  <a href="#1b593ec8f8b80418b87f3d9da5d6935a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#53be595c1a44f646523cdd1f89a0a8a2">getFrameAddressFromLine</a> (char line[255], int *pframeaddr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">takes a line from the frames file and extracts the frame numbers block, major and minor and write them in the 3 element int array pointed to by the pointer pframeaddr.  <a href="#53be595c1a44f646523cdd1f89a0a8a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#8bc9e8e93d38aa4c254464aa672690df">charToInt</a> (char zeichen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">very propably useless - check that later reads an character and returns an int  <a href="#8bc9e8e93d38aa4c254464aa672690df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#670a3ae7cf5d6c4357b52b7d756a1434">getLinesnumberFromFile</a> (char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">used for reading the framesfile  <a href="#670a3ae7cf5d6c4357b52b7d756a1434"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="framehelpers_8h.html#e0753d753c40cd8d8de955f40968d272">getHexValueFromLine</a> (char line[255], unsigned short *pAddresses)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">used for reading the header and footer files.  <a href="#e0753d753c40cd8d8de955f40968d272"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Helpfunctions for programs that have to deal with Frames. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Dominik Fehlker </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd></dd></dl>

<p>
Definition in file <a class="el" href="framehelpers_8h-source.html">framehelpers.h</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="cd171ecc285f52f3d632227fff34b6fc"></a><!-- doxytag: member="framehelpers.h::calculateStopAddress" ref="cd171ecc285f52f3d632227fff34b6fc" args="(int filesize, int startaddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calculateStopAddress           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filesize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>startaddress</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
calculates the stop address for initial config and scrubbing after the formula: stopaddress = (startaddress + (filesize / 2) - 1) if the firmware has the version 1.2 then 0x100h is added to the stopaddress. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filesize</em>&nbsp;</td><td>the filesize of the framefile to program </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>startaddress</em>&nbsp;</td><td>the startaddress where programming has begun </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the stopaddress </dd></dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00078">78</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
References <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a573b9d25a6fa4e461b6eb1756217e2ccdd">eEnableFlash</a>, <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57d12ce67d46f81ac74100f3d9a8058f25">eEnableMsgBuf</a>, <a class="el" href="framehelpers_8c-source.html#l00032">EXIT_FAILURE</a>, <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02073">rcuBusControlCmd()</a>, and <a class="el" href="dcscMsgBufferInterface_8c-source.html#l01557">rcuSingleRead()</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00842">doInit()</a>, and <a class="el" href="rcuflashprog_8c-source.html#l00649">doScrubbing()</a>.
<p>
Here is the call graph for this function:<p><center><img src="framehelpers_8h_cd171ecc285f52f3d632227fff34b6fc_cgraph.png" border="0" usemap="#framehelpers_8h_cd171ecc285f52f3d632227fff34b6fc_cgraph_map" alt=""></center>
<map name="framehelpers_8h_cd171ecc285f52f3d632227fff34b6fc_cgraph_map">
<area href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8" shape="rect" coords="213,5,355,35" alt="">
<area href="group__dcsc__msg__buffer__access.html#g339b5922513d0f0211d7962234faa24f" shape="rect" coords="228,59,340,88" alt="">
<area href="dcscMsgBufferInterface_8c.html#581fec98c7a23cf22118f4814d460d7f" shape="rect" coords="404,5,564,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="8bc9e8e93d38aa4c254464aa672690df"></a><!-- doxytag: member="framehelpers.h::charToInt" ref="8bc9e8e93d38aa4c254464aa672690df" args="(char zeichen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int charToInt           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>zeichen</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
very propably useless - check that later reads an character and returns an int 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the integer value according to the character, everything else than 0-9 returns -1 </dd></dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00279">279</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
</div>
</div><p>
<a class="anchor" name="527bff0bf2cd2780c8d0bbe5658c7e71"></a><!-- doxytag: member="framehelpers.h::enterFlashState" ref="527bff0bf2cd2780c8d0bbe5658c7e71" args="(int oldstate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int enterFlashState           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oldstate</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
if state is different from flash, then the flash state will be entered. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oldstate</em>&nbsp;</td><td>the state before entering flash state </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>not used </dd></dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00115">115</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
References <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a573b9d25a6fa4e461b6eb1756217e2ccdd">eEnableFlash</a>, <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57d12ce67d46f81ac74100f3d9a8058f25">eEnableMsgBuf</a>, and <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02073">rcuBusControlCmd()</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00043">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="framehelpers_8h_527bff0bf2cd2780c8d0bbe5658c7e71_cgraph.png" border="0" usemap="#framehelpers_8h_527bff0bf2cd2780c8d0bbe5658c7e71_cgraph_map" alt=""></center>
<map name="framehelpers_8h_527bff0bf2cd2780c8d0bbe5658c7e71_cgraph_map">
<area href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8" shape="rect" coords="173,5,315,35" alt="">
<area href="dcscMsgBufferInterface_8c.html#581fec98c7a23cf22118f4814d460d7f" shape="rect" coords="364,5,524,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="2ff76e903eb4ccb3b086b6d1d2e895c0"></a><!-- doxytag: member="framehelpers.h::getBusState" ref="2ff76e903eb4ccb3b086b6d1d2e895c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getBusState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
checks the state of the RCU BUS and returns this state 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the current state of the RCU Bus (1 means selectmap, 2 flash and 3 MsgBuffer) </dd></dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00143">143</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
References <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a574581ed60d70cf970eac090dd985e68e1">eCheckFlash</a>, <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57b8a5bc377b3c7d019be52e0da9e57565">eCheckMsgBuf</a>, <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a578e3fd457e9da4ecb682532b1f64ca2e2">eCheckSelectmap</a>, and <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02073">rcuBusControlCmd()</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00043">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="framehelpers_8h_2ff76e903eb4ccb3b086b6d1d2e895c0_cgraph.png" border="0" usemap="#framehelpers_8h_2ff76e903eb4ccb3b086b6d1d2e895c0_cgraph_map" alt=""></center>
<map name="framehelpers_8h_2ff76e903eb4ccb3b086b6d1d2e895c0_cgraph_map">
<area href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8" shape="rect" coords="149,5,291,35" alt="">
<area href="dcscMsgBufferInterface_8c.html#581fec98c7a23cf22118f4814d460d7f" shape="rect" coords="340,5,500,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="019759de9c99bad88139a7ca43d05315"></a><!-- doxytag: member="framehelpers.h::getFileSize" ref="019759de9c99bad88139a7ca43d05315" args="(char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getFileSize           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
checks the filesize of a file with the given path 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the filesize in Bytes </dd></dl>

<p>
Definition at line <a class="el" href="bitswapper_8c-source.html#l00088">88</a> of file <a class="el" href="bitswapper_8c-source.html">bitswapper.c</a>.
<p>
References <a class="el" href="framehelpers_8c-source.html#l00032">EXIT_FAILURE</a>.
</div>
</div><p>
<a class="anchor" name="53be595c1a44f646523cdd1f89a0a8a2"></a><!-- doxytag: member="framehelpers.h::getFrameAddressFromLine" ref="53be595c1a44f646523cdd1f89a0a8a2" args="(char line[255], int *pframeaddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getFrameAddressFromLine           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>line</em>[255], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>pframeaddr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
takes a line from the frames file and extracts the frame numbers block, major and minor and write them in the 3 element int array pointed to by the pointer pframeaddr. 
<p>
In case something not useful is read, block, major and minor are -1<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>line</em>&nbsp;</td><td>a line to be fragmented </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*pframaddr</em>&nbsp;</td><td>the 3 element int array which holds block, major and minor </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00200">200</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
References <a class="el" href="framehelpers_8c-source.html#l00279">charToInt()</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00163">doFlashFrame()</a>, <a class="el" href="framehelpers_8c-source.html#l00308">getLinesnumberFromFile()</a>, and <a class="el" href="framegen_8c-source.html#l00043">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="framehelpers_8h_53be595c1a44f646523cdd1f89a0a8a2_cgraph.png" border="0" usemap="#framehelpers_8h_53be595c1a44f646523cdd1f89a0a8a2_cgraph_map" alt=""></center>
<map name="framehelpers_8h_53be595c1a44f646523cdd1f89a0a8a2_cgraph_map">
<area href="framehelpers_8c.html#8bc9e8e93d38aa4c254464aa672690df" shape="rect" coords="245,5,325,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="e0753d753c40cd8d8de955f40968d272"></a><!-- doxytag: member="framehelpers.h::getHexValueFromLine" ref="e0753d753c40cd8d8de955f40968d272" args="(char line[255], unsigned short *pAddresses)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getHexValueFromLine           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>line</em>[255], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&nbsp;</td>
          <td class="paramname"> <em>pAddresses</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
used for reading the header and footer files. 
<p>
reads a 4 digit hex value from the given char array if it finds the variables "$frame_addr31_16" or "$frame_addr15_0" the address values from the given unsigned short array with two elements is used.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>line</em>&nbsp;</td><td>the line where the hex value shall be read from </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pAddresses</em>&nbsp;</td><td>the 2 element unsigned short array which holds add31_16 and addr15_0 </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the hexadecimal value </dd></dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00339">339</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
Referenced by <a class="el" href="framegen_8c-source.html#l00043">main()</a>.
</div>
</div><p>
<a class="anchor" name="670a3ae7cf5d6c4357b52b7d756a1434"></a><!-- doxytag: member="framehelpers.h::getLinesnumberFromFile" ref="670a3ae7cf5d6c4357b52b7d756a1434" args="(char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getLinesnumberFromFile           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
used for reading the framesfile 
<p>
takes an character array with up to 255 characters and seperates them using ";" into Block-, Major- and Minornumber. Calculates the address31_16 and address15_0 for the globale variables as well as the w_frameX.X.X.hex and r_frame.X.X.X.hex filenames. Example line for frames.txt: 0;5;3;<p>
comments can be made using a leading "#" 
<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00308">308</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
References <a class="el" href="framehelpers_8c-source.html#l00032">EXIT_FAILURE</a>, and <a class="el" href="framehelpers_8c-source.html#l00200">getFrameAddressFromLine()</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00163">doFlashFrame()</a>, and <a class="el" href="framever_8c-source.html#l00048">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="framehelpers_8h_670a3ae7cf5d6c4357b52b7d756a1434_cgraph.png" border="0" usemap="#framehelpers_8h_670a3ae7cf5d6c4357b52b7d756a1434_cgraph_map" alt=""></center>
<map name="framehelpers_8h_670a3ae7cf5d6c4357b52b7d756a1434_cgraph_map">
<area href="framehelpers_8c.html#53be595c1a44f646523cdd1f89a0a8a2" shape="rect" coords="231,5,420,35" alt="">
<area href="framehelpers_8c.html#8bc9e8e93d38aa4c254464aa672690df" shape="rect" coords="469,5,549,35" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="045a12bd4874a62c6ed9e9f3ced0c480"></a><!-- doxytag: member="framehelpers.h::getLowerAddress" ref="045a12bd4874a62c6ed9e9f3ced0c480" args="(__u32 u32address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u16 getLowerAddress           </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>u32address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The bits 0 to 15 from an 32 bit address are returned as an 16 bit address. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the lower 16 bits (0 to 15) </dd></dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00045">45</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00163">doFlashFrame()</a>, <a class="el" href="rcuflashprog_8c-source.html#l00842">doInit()</a>, and <a class="el" href="rcuflashprog_8c-source.html#l00649">doScrubbing()</a>.
</div>
</div><p>
<a class="anchor" name="ec06976aa28c099e56494e715860844b"></a><!-- doxytag: member="framehelpers.h::getUpperAddress" ref="ec06976aa28c099e56494e715860844b" args="(__u32 u32address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u16 getUpperAddress           </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>u32address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The bits 16 to 31 from an 32 bit address are returned as an 16 bit address. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the upper 16 Bits (16 to 31) </dd></dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00034">34</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00163">doFlashFrame()</a>, <a class="el" href="rcuflashprog_8c-source.html#l00842">doInit()</a>, and <a class="el" href="rcuflashprog_8c-source.html#l00649">doScrubbing()</a>.
</div>
</div><p>
<a class="anchor" name="1b593ec8f8b80418b87f3d9da5d6935a"></a><!-- doxytag: member="framehelpers.h::restoreBusState" ref="1b593ec8f8b80418b87f3d9da5d6935a" args="(int oldstate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int restoreBusState           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oldstate</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If the oldstate was something different then flash, restoreBusState switches back to this state. 
<p>
if oldstate was already flash, then nothing is done.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oldstate</em>&nbsp;</td><td>the old state of the Bus </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>not used </dd></dl>

<p>
Definition at line <a class="el" href="framehelpers_8c-source.html#l00165">165</a> of file <a class="el" href="framehelpers_8c-source.html">framehelpers.c</a>.
<p>
References <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57d12ce67d46f81ac74100f3d9a8058f25">eEnableMsgBuf</a>, <a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a577b8222808ce70929afddb10c7855f13a">eEnableSelectmap</a>, and <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02073">rcuBusControlCmd()</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00043">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="framehelpers_8h_1b593ec8f8b80418b87f3d9da5d6935a_cgraph.png" border="0" usemap="#framehelpers_8h_1b593ec8f8b80418b87f3d9da5d6935a_cgraph_map" alt=""></center>
<map name="framehelpers_8h_1b593ec8f8b80418b87f3d9da5d6935a_cgraph_map">
<area href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8" shape="rect" coords="176,5,317,35" alt="">
<area href="dcscMsgBufferInterface_8c.html#581fec98c7a23cf22118f4814d460d7f" shape="rect" coords="367,5,527,35" alt="">
</map>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on 12 Nov 2013 for RCU linux tools and drivers for the DCS board  by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
