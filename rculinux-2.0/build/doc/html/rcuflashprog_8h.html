<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RCU linux tools and drivers for the DCS board : rcuflashprog.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>rcuflashprog.h File Reference</h1>Tool for programming the RCU Flash memory. <a href="#_details">More...</a>
<p>

<p>
This graph shows which files directly or indirectly include this file:<p><center><img src="rcuflashprog_8h__dep__incl.png" border="0" usemap="#rcuflashprog.hdep_map" alt=""></center>
<map name="rcuflashprog.hdep_map">
<area href="rcuflashprog_8c.html" shape="rect" coords="169,5,281,35" alt="">
</map>

<p>
<a href="rcuflashprog_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rcuflashprog_8h.html#017730762068a4d5359376e97dac8257">doInit</a> (char *conffilename, int <a class="el" href="rcuflashprog_8c.html#a1aabbeb0deebd40a25e329692500bbe">BB_FLASH</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rcuflashprog_8h.html#cd9a55766b840c98d87b0ce1a76af867">doScrubbing</a> (char *conffilename, int <a class="el" href="rcuflashprog_8c.html#a1aabbeb0deebd40a25e329692500bbe">BB_FLASH</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Everything needed for a complete scrubbing is done here.  <a href="#cd9a55766b840c98d87b0ce1a76af867"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rcuflashprog_8h.html#237fcbe3877916a856ff7acf973ee2ba">doFlashFrame</a> (char *conffilename, int <a class="el" href="rcuflashprog_8c.html#a1aabbeb0deebd40a25e329692500bbe">BB_FLASH</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The programming of the readframes and writeframes is done here.  <a href="#237fcbe3877916a856ff7acf973ee2ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rcuflashprog_8h.html#ed123ebcbaa3f156d6abcbcc17e4c7bc">buildFrameFilename</a> (int *pFrameaddr, char *pnewfilename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The frameaddress is given with the block, major and minor in an int array as the first parameter.  <a href="#ed123ebcbaa3f156d6abcbcc17e4c7bc"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Tool for programming the RCU Flash memory. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Dominik Fehlker </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd></dd></dl>

<p>
Definition in file <a class="el" href="rcuflashprog_8h-source.html">rcuflashprog.h</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="ed123ebcbaa3f156d6abcbcc17e4c7bc"></a><!-- doxytag: member="rcuflashprog.h::buildFrameFilename" ref="ed123ebcbaa3f156d6abcbcc17e4c7bc" args="(int *pFrameaddr, char *pnewfilename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buildFrameFilename           </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>pFrameaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>pnewfilename</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The frameaddress is given with the block, major and minor in an int array as the first parameter. 
<p>
the second parameter is the filename which contains an "$" somewhere which is substituted with the frameaddress in this way: "&lt;block&gt;.&lt;major&gt;.&lt;minor&gt;" 
<p>
Definition at line <a class="el" href="rcuflashprog_8c-source.html#l00618">618</a> of file <a class="el" href="rcuflashprog_8c-source.html">rcuflashprog.c</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00163">doFlashFrame()</a>.
</div>
</div><p>
<a class="anchor" name="237fcbe3877916a856ff7acf973ee2ba"></a><!-- doxytag: member="rcuflashprog.h::doFlashFrame" ref="237fcbe3877916a856ff7acf973ee2ba" args="(char *conffilename, int BB_FLASH)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int doFlashFrame           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>conffilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BB_FLASH</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The programming of the readframes and writeframes is done here. 
<p>
Therefore the framesfile given in the configuration file is read out, and all the given frames there are written to the flash.<p>
<dl compact><dt><b>Returns:</b></dt><dd>not used </dd></dl>

<p>
Definition at line <a class="el" href="rcuflashprog_8c-source.html#l00163">163</a> of file <a class="el" href="rcuflashprog_8c-source.html">rcuflashprog.c</a>.
<p>
References <a class="el" href="rcuflashprog_8c-source.html#l00618">buildFrameFilename()</a>, <a class="el" href="framehelpers_8c-source.html#l00032">EXIT_FAILURE</a>, <a class="el" href="bitswapper_8c-source.html#l00088">getFileSize()</a>, <a class="el" href="framehelpers_8c-source.html#l00200">getFrameAddressFromLine()</a>, <a class="el" href="framehelpers_8c-source.html#l00308">getLinesnumberFromFile()</a>, <a class="el" href="framehelpers_8c-source.html#l00045">getLowerAddress()</a>, <a class="el" href="framehelpers_8c-source.html#l00034">getUpperAddress()</a>, <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02130">rcuFlashWrite()</a>, and <a class="el" href="rcuflashprog_8c-source.html#l00038">TRUE</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00043">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="rcuflashprog_8h_237fcbe3877916a856ff7acf973ee2ba_cgraph.png" border="0" usemap="#rcuflashprog_8h_237fcbe3877916a856ff7acf973ee2ba_cgraph_map" alt=""></center>
<map name="rcuflashprog_8h_237fcbe3877916a856ff7acf973ee2ba_cgraph_map">
<area href="rcuflashprog_8c.html#050a67a2d2eae27eb446eafe228a4f3e" shape="rect" coords="179,5,328,35" alt="">
<area href="bitswapper_8c.html#019759de9c99bad88139a7ca43d05315" shape="rect" coords="209,59,297,88" alt="">
<area href="framehelpers_8c.html#53be595c1a44f646523cdd1f89a0a8a2" shape="rect" coords="391,112,580,141" alt="">
<area href="framehelpers_8c.html#670a3ae7cf5d6c4357b52b7d756a1434" shape="rect" coords="165,112,341,141" alt="">
<area href="framehelpers_8c.html#045a12bd4874a62c6ed9e9f3ced0c480" shape="rect" coords="188,216,319,245" alt="">
<area href="framehelpers_8c.html#ec06976aa28c099e56494e715860844b" shape="rect" coords="188,269,319,299" alt="">
<area href="group__dcsc__msg__buffer__access.html#g88debbd24075d2031add9459e4d90e2b" shape="rect" coords="200,323,307,352" alt="">
<area href="framehelpers_8c.html#8bc9e8e93d38aa4c254464aa672690df" shape="rect" coords="647,112,727,141" alt="">
<area href="dcscMsgBufferInterface_8c.html#4f26d1498c21f8833b1966666d451a78" shape="rect" coords="641,243,732,272" alt="">
<area href="dcscMsgBufferInterface_8c.html#11b476874e781d3f1438fc135db4cc3f" shape="rect" coords="639,427,735,456" alt="">
<area href="dcscMsgBufferInterface_8c.html#581fec98c7a23cf22118f4814d460d7f" shape="rect" coords="405,323,565,352" alt="">
<area href="dcscMsgBufferInterface_8c.html#3abfe9e8eb9b2c1e49704fbc46d251d3" shape="rect" coords="631,373,743,403" alt="">
<area href="dcscMsgBufferInterface_8c.html#f552b5065e28cc51b49e235b7c7fcb5f" shape="rect" coords="415,427,556,456" alt="">
<area href="group__dcsc__msg__buffer__access.html#g339b5922513d0f0211d7962234faa24f" shape="rect" coords="429,216,541,245" alt="">
<area href="group__dcsc__msg__buffer__access.html#g5b2ecab6b0a6383afebde1ea486dae43" shape="rect" coords="429,269,541,299" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="017730762068a4d5359376e97dac8257"></a><!-- doxytag: member="rcuflashprog.h::doInit" ref="017730762068a4d5359376e97dac8257" args="(char *conffilename, int BB_FLASH)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int doInit           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>conffilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BB_FLASH</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="rcuflashprog_8c-source.html#l00842">842</a> of file <a class="el" href="rcuflashprog_8c-source.html">rcuflashprog.c</a>.
<p>
References <a class="el" href="framehelpers_8c-source.html#l00078">calculateStopAddress()</a>, <a class="el" href="framehelpers_8c-source.html#l00032">EXIT_FAILURE</a>, <a class="el" href="bitswapper_8c-source.html#l00088">getFileSize()</a>, <a class="el" href="framehelpers_8c-source.html#l00045">getLowerAddress()</a>, <a class="el" href="framehelpers_8c-source.html#l00034">getUpperAddress()</a>, <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02130">rcuFlashWrite()</a>, and <a class="el" href="rcuflashprog_8c-source.html#l00038">TRUE</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00043">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="rcuflashprog_8h_017730762068a4d5359376e97dac8257_cgraph.png" border="0" usemap="#rcuflashprog_8h_017730762068a4d5359376e97dac8257_cgraph_map" alt=""></center>
<map name="rcuflashprog_8h_017730762068a4d5359376e97dac8257_cgraph_map">
<area href="framehelpers_8c.html#cd171ecc285f52f3d632227fff34b6fc" shape="rect" coords="111,358,268,388" alt="">
<area href="bitswapper_8c.html#019759de9c99bad88139a7ca43d05315" shape="rect" coords="145,412,233,441" alt="">
<area href="framehelpers_8c.html#045a12bd4874a62c6ed9e9f3ced0c480" shape="rect" coords="124,465,255,494" alt="">
<area href="framehelpers_8c.html#ec06976aa28c099e56494e715860844b" shape="rect" coords="124,518,255,548" alt="">
<area href="group__dcsc__msg__buffer__access.html#g88debbd24075d2031add9459e4d90e2b" shape="rect" coords="335,281,441,310" alt="">
<area href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8" shape="rect" coords="317,358,459,388" alt="">
<area href="group__dcsc__msg__buffer__access.html#g339b5922513d0f0211d7962234faa24f" shape="rect" coords="532,412,644,441" alt="">
<area href="dcscMsgBufferInterface_8c.html#581fec98c7a23cf22118f4814d460d7f" shape="rect" coords="508,358,668,388" alt="">
<area href="dcscMsgBufferInterface_8c.html#4f26d1498c21f8833b1966666d451a78" shape="rect" coords="913,252,1004,281" alt="">
<area href="dcscMsgBufferInterface_8c.html#11b476874e781d3f1438fc135db4cc3f" shape="rect" coords="743,305,839,334" alt="">
<area href="dcscMsgBufferInterface_8c.html#3abfe9e8eb9b2c1e49704fbc46d251d3" shape="rect" coords="735,358,847,388" alt="">
<area href="dcscMsgBufferInterface_8c.html#f552b5065e28cc51b49e235b7c7fcb5f" shape="rect" coords="517,204,659,233" alt="">
<area href="group__dcsc__msg__buffer__access.html#g5b2ecab6b0a6383afebde1ea486dae43" shape="rect" coords="532,150,644,180" alt="">
<area href="dcscMsgBufferInterface_8c.html#a8a3978204732cf3454e864ac9b3d56b" shape="rect" coords="736,38,845,68" alt="">
<area href="dcscMsgBufferInterface_8c.html#d96053a774a452dc4f507212d8e8481e" shape="rect" coords="737,92,844,121" alt="">
<area href="dcscMsgBufferInterface_8c.html#e9340e51dad01e5752d7ca8446094db6" shape="rect" coords="747,145,835,174" alt="">
<area href="dcscMsgBufferInterface_8c.html#6aca27ba48e1bcae7e35a72fc2ac0b3b" shape="rect" coords="749,198,832,228" alt="">
<area href="dcscMsgBufferInterface_8c.html#3d92f75f3bcdae5dd0b6f8f470e74eb1" shape="rect" coords="719,252,863,281" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="cd9a55766b840c98d87b0ce1a76af867"></a><!-- doxytag: member="rcuflashprog.h::doScrubbing" ref="cd9a55766b840c98d87b0ce1a76af867" args="(char *conffilename, int BB_FLASH)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int doScrubbing           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>conffilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BB_FLASH</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Everything needed for a complete scrubbing is done here. 
<p>
All necessary Information is read out from the given configfile.<p>
<dl compact><dt><b>Returns:</b></dt><dd>not used </dd></dl>

<p>
Definition at line <a class="el" href="rcuflashprog_8c-source.html#l00649">649</a> of file <a class="el" href="rcuflashprog_8c-source.html">rcuflashprog.c</a>.
<p>
References <a class="el" href="framehelpers_8c-source.html#l00078">calculateStopAddress()</a>, <a class="el" href="framehelpers_8c-source.html#l00032">EXIT_FAILURE</a>, <a class="el" href="bitswapper_8c-source.html#l00088">getFileSize()</a>, <a class="el" href="framehelpers_8c-source.html#l00045">getLowerAddress()</a>, <a class="el" href="framehelpers_8c-source.html#l00034">getUpperAddress()</a>, <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02130">rcuFlashWrite()</a>, and <a class="el" href="rcuflashprog_8c-source.html#l00038">TRUE</a>.
<p>
Referenced by <a class="el" href="rcuflashprog_8c-source.html#l00043">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="rcuflashprog_8h_cd9a55766b840c98d87b0ce1a76af867_cgraph.png" border="0" usemap="#rcuflashprog_8h_cd9a55766b840c98d87b0ce1a76af867_cgraph_map" alt=""></center>
<map name="rcuflashprog_8h_cd9a55766b840c98d87b0ce1a76af867_cgraph_map">
<area href="framehelpers_8c.html#cd171ecc285f52f3d632227fff34b6fc" shape="rect" coords="156,109,313,139" alt="">
<area href="bitswapper_8c.html#019759de9c99bad88139a7ca43d05315" shape="rect" coords="191,213,279,243" alt="">
<area href="framehelpers_8c.html#045a12bd4874a62c6ed9e9f3ced0c480" shape="rect" coords="169,267,300,296" alt="">
<area href="framehelpers_8c.html#ec06976aa28c099e56494e715860844b" shape="rect" coords="169,320,300,349" alt="">
<area href="group__dcsc__msg__buffer__access.html#g88debbd24075d2031add9459e4d90e2b" shape="rect" coords="380,163,487,192" alt="">
<area href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8" shape="rect" coords="363,109,504,139" alt="">
<area href="group__dcsc__msg__buffer__access.html#g339b5922513d0f0211d7962234faa24f" shape="rect" coords="577,5,689,35" alt="">
<area href="dcscMsgBufferInterface_8c.html#581fec98c7a23cf22118f4814d460d7f" shape="rect" coords="553,109,713,139" alt="">
<area href="dcscMsgBufferInterface_8c.html#4f26d1498c21f8833b1966666d451a78" shape="rect" coords="775,84,865,113" alt="">
<area href="dcscMsgBufferInterface_8c.html#11b476874e781d3f1438fc135db4cc3f" shape="rect" coords="772,215,868,244" alt="">
<area href="dcscMsgBufferInterface_8c.html#3abfe9e8eb9b2c1e49704fbc46d251d3" shape="rect" coords="764,268,876,297" alt="">
<area href="dcscMsgBufferInterface_8c.html#f552b5065e28cc51b49e235b7c7fcb5f" shape="rect" coords="563,267,704,296" alt="">
<area href="group__dcsc__msg__buffer__access.html#g5b2ecab6b0a6383afebde1ea486dae43" shape="rect" coords="577,163,689,192" alt="">
</map>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on 12 Nov 2013 for RCU linux tools and drivers for the DCS board  by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
