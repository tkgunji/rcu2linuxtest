<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RCU linux tools and drivers for the DCS board : dcscMsgBufferInterface.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>dcscMsgBufferInterface.h File Reference</h1>The Message Buffer Interface. This file implements the <a class="el" href="group__dcsc__msg__buffer__access.html">Message Buffer Encoding</a>. <a href="#_details">More...</a>
<p>
<code>#include &lt;linux/types.h&gt;</code><br>

<p>
Include dependency graph for dcscMsgBufferInterface.h:<p><center><img src="dcscMsgBufferInterface_8h__incl.png" border="0" usemap="#dcscMsgBufferInterface.h_map" alt=""></center>

<p>
This graph shows which files directly or indirectly include this file:<p><center><img src="dcscMsgBufferInterface_8h__dep__incl.png" border="0" usemap="#dcscMsgBufferInterface.hdep_map" alt=""></center>
<map name="dcscMsgBufferInterface.hdep_map">
<area href="cmdInterpreter_8c.html" shape="rect" coords="269,5,397,35" alt="">
<area href="framegen_8c.html" shape="rect" coords="285,59,381,88" alt="">
<area href="framehelpers_8c.html" shape="rect" coords="273,112,393,141" alt="">
<area href="framever_8c.html" shape="rect" coords="288,165,379,195" alt="">
<area href="rcuflashprog_8c.html" shape="rect" coords="277,219,389,248" alt="">
<area href="sendRCUcommand_8c.html" shape="rect" coords="255,272,412,301" alt="">
<area href="dcscMsgBufferInterface_8c.html" shape="rect" coords="241,325,425,355" alt="">
</map>

<p>
<a href="dcscMsgBufferInterface_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdcscInitArguments__t.html">dcscInitArguments_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Argument struct for extended initialization.  <a href="structdcscInitArguments__t.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Format of the command sequence (32 bit words).</h2></td></tr>
<tr><td colspan="2">The general format consists of a <em>header word</em>, the payload, a <em>block marker</em> and an <em>end marker</em>. The command can contain more than one block, each of them terminated by the <em>block marker</em>.<p>
<div align="center">
<img src="pic_MsgBufferFormat.gif" alt="pic_MsgBufferFormat.gif">
</div>
 Words 1 (information word) to n+2 (block marker) are considered to be programming blocks. A sequence of an arbitrary number of programming blocks is terminated by the end marker word. This is only limited by the size of the MIB. By now the dcscMsgBufferInterface interface uses only one programming block per sequence.<p>
<b>Header Word Version 2:</b> This is the current format<ul>
<li>Bit 0-5 : command id</li><li>Bit 6-15 : number of words(excluding the information and marker words)</li><li>Bit 16-23: block number</li><li>Bit 24-25: data format</li><li>Bit 26 : flash mode if set</li></ul>
<p>
The firmware has an inbuilt check for Bit 28-31, only 0x0 or 0x8 to 0xf are allowed for the 4 MSBs. Check the section 'Message Buffer Header Format Version' below.<p>
<b>Header Word Version 1:</b> this format is specified for backward compatibility only<ul>
<li>Bit 0 - 15: number of words in the programming block including both information and marker word</li><li>Bit 28- 31: command id</li></ul>
<p>
<b>Command IDs used by the interface:</b> <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#6030c0d300916fd8ca54d740bbddd58a">SINGLE_READ</a>&nbsp;&nbsp;&nbsp;0x1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code for the 'single read' command.  <a href="#6030c0d300916fd8ca54d740bbddd58a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#155e21b5b6b1a7ee2ff293e43b2647af">SINGLE_WRITE</a>&nbsp;&nbsp;&nbsp;0x2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code for the 'single write' command.  <a href="#155e21b5b6b1a7ee2ff293e43b2647af"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#a91382f3c0cd13e011f70c5f50d088f3">MULTI_READ</a>&nbsp;&nbsp;&nbsp;0x3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code for the 'multiple read' command.  <a href="#a91382f3c0cd13e011f70c5f50d088f3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#dcd13dece10a23c37b7ac2a253781625">MULTI_WRITE</a>&nbsp;&nbsp;&nbsp;0x4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code for the 'multiple write' command.  <a href="#dcd13dece10a23c37b7ac2a253781625"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#71c4360ee488f413767765dd074cb92c">RANDOM_READ</a>&nbsp;&nbsp;&nbsp;0x5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code for the 'random read' command.  <a href="#71c4360ee488f413767765dd074cb92c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#63a1fcd9162178ede0cbd908ed592038">RANDOM_WRITE</a>&nbsp;&nbsp;&nbsp;0x6</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code for the 'random write' command.  <a href="#63a1fcd9162178ede0cbd908ed592038"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#75c771d18b83c211d2acccb56d2168be">FLASH_ERASEALL</a>&nbsp;&nbsp;&nbsp;0x21</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase the flash completely.  <a href="#75c771d18b83c211d2acccb56d2168be"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#e30e07831b0e50dfd84e128a1317ba6a">FLASH_ERASE_SEC</a>&nbsp;&nbsp;&nbsp;0x22</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase one sector of the flash The command is specific to the rcu flash access, available since version 2.2.  <a href="#e30e07831b0e50dfd84e128a1317ba6a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#2dd7ad391d9119b630d0774285d720e8">FLASH_MULTI_ERASE</a>&nbsp;&nbsp;&nbsp;0x24</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase multiple sectors of the flash.  <a href="#2dd7ad391d9119b630d0774285d720e8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#9f8860f817da497ce396878c1dc143ea">FLASH_READID</a>&nbsp;&nbsp;&nbsp;0x28</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the ID of the flash.  <a href="#9f8860f817da497ce396878c1dc143ea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcscMsgBufferInterface_8h.html#9b890baacac98cc88ef06e9032a40e34">FLASH_RESET</a>&nbsp;&nbsp;&nbsp;0x30</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code for the flash reset command.  <a href="#9b890baacac98cc88ef06e9032a40e34"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Message Buffer Header Format Version.</h2></td></tr>
<tr><td colspan="2">Version handling has been introduced in firmware version 2.<p>
<pre>
 Bit 28-31 of message buffer header
 0x0     : not used
 0x1-0x7 : version 1 (bit 31==0, other bits arbitrary)
 0xa     : version 2
 0xf     : Feeserver CE command
 </pre><p>
<b>Some helper defines</b> for the version decoding: <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gd47e658eba41557f654f0f9284c97317">MSGBUF_VERSION_1_MASK</a>&nbsp;&nbsp;&nbsp;0x70000000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mask to extract Message Buffer Version 1 command ids.  <a href="group__dcsc__msg__buffer__access.html#gd47e658eba41557f654f0f9284c97317"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g4fc7f5db2448d65028809260a6d7879f">MSGBUF_VERSION_2</a>&nbsp;&nbsp;&nbsp;0xa0000000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Message Buffer Version 2.0 id.  <a href="group__dcsc__msg__buffer__access.html#g4fc7f5db2448d65028809260a6d7879f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gbe9b5c0065d5ca89ab3c3af7723c5340">MSGBUF_VERSION_2_2</a>&nbsp;&nbsp;&nbsp;0xb0000000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Message Buffer Version 2.2 id.  <a href="group__dcsc__msg__buffer__access.html#gbe9b5c0065d5ca89ab3c3af7723c5340"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g4922cdfb6125eef890c22cadeb1a4522">FEESERVER_CMD</a>&nbsp;&nbsp;&nbsp;0xf0000000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FeeServer command id.  <a href="group__dcsc__msg__buffer__access.html#g4922cdfb6125eef890c22cadeb1a4522"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Format of the command result (32 bit words).</h2></td></tr>
<tr><td colspan="2">The result given in the MRB has the format:<p>
<pre>
 ============================================
 1.information word (same format as above)
 2.status word
 3.- n: the data words follow
 Bit 0-15 of the information word contain the number of words in the buffer
          including status and information word. There is no end marker</pre><p>
<pre> Status word: = 0 if no error
 Bit 15: set if any error
 </pre> The interface uses the following defines to interprete the error bits: <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g08c36f682621c241c61818a20deb25c1">MSGBUF_STATUS_NOMARKER</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status Word Bit 0: missing marker.  <a href="group__dcsc__msg__buffer__access.html#g08c36f682621c241c61818a20deb25c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gc30e76b52c140c354f56d34019c7f1d2">MSGBUF_STATUS_NOENDMRK</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status Word Bit 1: missing end marker.  <a href="group__dcsc__msg__buffer__access.html#gc30e76b52c140c354f56d34019c7f1d2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g4eee888217162b8a35eb12d67cb4693b">MSGBUF_STATUS_NOTGTASW</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status Word Bit 2: no target answer (something wrong with the RCU or not connected).  <a href="group__dcsc__msg__buffer__access.html#g4eee888217162b8a35eb12d67cb4693b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g2c69c8f183428cc8448002ccbb40223f">MSGBUF_STATUS_NOBUSGRT</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status Word Bit 3: no bus grant (no access to the bus on dcs board).  <a href="group__dcsc__msg__buffer__access.html#g2c69c8f183428cc8448002ccbb40223f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g63adfcc12380aecaee776059a90bae31">MSGBUF_STATUS_OLDFORMAT</a>&nbsp;&nbsp;&nbsp;0X10</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status Word Bit 5: old message buffer format (prior to v2 with rcu-sh version v1.0).  <a href="group__dcsc__msg__buffer__access.html#g63adfcc12380aecaee776059a90bae31"></a><br></td></tr>
<tr><td colspan="2"><br><h2>API methods: Initialization and general methods.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gce40b0def5fb1f60ecebe3d5c07dceb5">DCSC_INIT_FORCE_V1</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization flag: force message buffer format version v1 This sets the encoding to version 1 fixed rather than trying to get the correct firmware version.  <a href="group__dcsc__msg__buffer__access.html#gce40b0def5fb1f60ecebe3d5c07dceb5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g24923a207203a43bfd322e7116edf028">DCSC_INIT_FORCE_V2</a>&nbsp;&nbsp;&nbsp;0x0002</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization flag: force message buffer format version v2.  <a href="group__dcsc__msg__buffer__access.html#g24923a207203a43bfd322e7116edf028"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g1283f28b3ca2f03f4cfef9a0f8a8ce40">DCSC_INIT_ENCODE</a>&nbsp;&nbsp;&nbsp;0x0100</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization flag: write block to device/file but do not execute.  <a href="group__dcsc__msg__buffer__access.html#g1283f28b3ca2f03f4cfef9a0f8a8ce40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g1bf79fbd2d8c4bcfbed37007a5e9d4b0">DCSC_INIT_APPEND</a>&nbsp;&nbsp;&nbsp;0x0200</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization flag: Append to file.  <a href="group__dcsc__msg__buffer__access.html#g1bf79fbd2d8c4bcfbed37007a5e9d4b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g3a969c22c4b8fc27c201023112f70bb7">DCSC_SUPPR_STDERR</a>&nbsp;&nbsp;&nbsp;0x0400</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization flag: suppress stderr output.  <a href="group__dcsc__msg__buffer__access.html#g3a969c22c4b8fc27c201023112f70bb7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g1d0799f8bf0c0b77db6155e5d78a4619">DCSC_SKIP_DRV_ADPT</a>&nbsp;&nbsp;&nbsp;0x1000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization flag: skip automatic adaption to driver properties.  <a href="group__dcsc__msg__buffer__access.html#g1d0799f8bf0c0b77db6155e5d78a4619"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structdcscInitArguments__t.html">dcscInitArguments_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gc35123ecbeaf4345c7ea161d1d31b500">TdcscInitArguments</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type definition for extended initialization parameters.  <a href="group__dcsc__msg__buffer__access.html#gc35123ecbeaf4345c7ea161d1d31b500"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gfc4448a8f5f9654cf54ad494f1558594">initRcuAccess</a> (const char *pDeviceName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the interface.  <a href="group__dcsc__msg__buffer__access.html#gfc4448a8f5f9654cf54ad494f1558594"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g95f13464dd4da9231a53e7adbb0e7d4e">initRcuAccessExt</a> (const char *pDeviceName, <a class="el" href="structdcscInitArguments__t.html">TdcscInitArguments</a> *pArg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extended initialization.  <a href="group__dcsc__msg__buffer__access.html#g95f13464dd4da9231a53e7adbb0e7d4e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gac62a9e57c67af4cb9178b4426ec12fb">releaseRcuAccess</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the device and release internal data structures.  <a href="group__dcsc__msg__buffer__access.html#gac62a9e57c67af4cb9178b4426ec12fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g919bc832f5a0e82c07cfafd699b1b2ea">printDriverInfo</a> (int iVerbosity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get driver info from the driver and print it.  <a href="group__dcsc__msg__buffer__access.html#g919bc832f5a0e82c07cfafd699b1b2ea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g0adb3aacb8d7ad32ceabe66a9dcbb401">startSimulation</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start register simulation.  <a href="group__dcsc__msg__buffer__access.html#g0adb3aacb8d7ad32ceabe66a9dcbb401"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gd871881385919aff64a8b679984cd018">stopSimulation</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop the simulation.  <a href="group__dcsc__msg__buffer__access.html#gd871881385919aff64a8b679984cd018"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gb54d216419ff2c191363373bef5f9cfa">resetSimulation</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the simulation.  <a href="group__dcsc__msg__buffer__access.html#gb54d216419ff2c191363373bef5f9cfa"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Interface debug options</h2></td></tr>
<tr><td colspan="2">The debug output of the interface can be adjusted by a couple of flags. Flags can be changed by the <a class="el" href="group__dcsc__msg__buffer__access.html#g36bb01dae6dd6edf579fe9878f9c6a20">setDebugOptionFlag</a>, <a class="el" href="group__dcsc__msg__buffer__access.html#g41201fc4dd5608bce4261b34eec28ca4">clearDebugOptionFlag</a> and <a class="el" href="group__dcsc__msg__buffer__access.html#gc07186b103fbe4c39531665c95e22c7e">setDebugOptions</a> functions. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gdcd41743796fdb5a280fc3914121eb05">PRINT_COMMAND_BUFFER</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print the command buffer before writing to the MIB.  <a href="group__dcsc__msg__buffer__access.html#gdcd41743796fdb5a280fc3914121eb05"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gcbc0bfb0d39b96550d664a58aa705cbb">PRINT_RESULT_BUFFER</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print the MRB after executing the command.  <a href="group__dcsc__msg__buffer__access.html#gcbc0bfb0d39b96550d664a58aa705cbb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g9eba95d21cfe8d57e7d52cadc13e1b91">CHECK_COMMAND_BUFFER</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test the MIB after writing the command buffer to it.  <a href="group__dcsc__msg__buffer__access.html#g9eba95d21cfe8d57e7d52cadc13e1b91"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g4115ae88155913f9a07bfbbd995f5e4f">IGNORE_BUFFER_CHECK</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Ignore the result of the MIB read back and check.  <a href="group__dcsc__msg__buffer__access.html#g4115ae88155913f9a07bfbbd995f5e4f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gc3ceb106888209dd1796a27d49f567d8">PRINT_REGISTER_ACCESS</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print access to the control registers.  <a href="group__dcsc__msg__buffer__access.html#gc3ceb106888209dd1796a27d49f567d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g2f996fd7aaf5d3df34642fc4dcd9ef66">PRINT_COMMAND_RESULT</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print the result of the command.  <a href="group__dcsc__msg__buffer__access.html#g2f996fd7aaf5d3df34642fc4dcd9ef66"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g36c838823c9602c6a0f6efd1fe135b18">PRINT_SPLIT_DEBUG</a>&nbsp;&nbsp;&nbsp;0x40</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print split info for multiple operations.  <a href="group__dcsc__msg__buffer__access.html#g36c838823c9602c6a0f6efd1fe135b18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g6fe994d64da543fe875682bb79b5d585">DBG_FILE_CONVERT</a>&nbsp;&nbsp;&nbsp;0x80</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print debug information on the file conversion.  <a href="group__dcsc__msg__buffer__access.html#g6fe994d64da543fe875682bb79b5d585"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g5d966eba98a480141a4145615ca3ea15">PRINT_RESULT_HUMAN_READABLE</a>&nbsp;&nbsp;&nbsp;0x100</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print the status bits human readable.  <a href="group__dcsc__msg__buffer__access.html#g5d966eba98a480141a4145615ca3ea15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g7eaf88fd984d7f7c8c760dce4cb355d1">DBG_CHECK_COMMAND</a>&nbsp;&nbsp;&nbsp;0x400</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print debug information concerning the wait ('check') command.  <a href="group__dcsc__msg__buffer__access.html#g7eaf88fd984d7f7c8c760dce4cb355d1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gf34c3c30400c83a97dd0deadaead479c">DBG_DEFAULT</a>&nbsp;&nbsp;&nbsp;PRINT_RESULT_HUMAN_READABLE</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The default debug flags.  <a href="group__dcsc__msg__buffer__access.html#gf34c3c30400c83a97dd0deadaead479c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Interface error codes.</h2></td></tr>
<tr><td colspan="2">The interface uses in general the error codes in errno.h. In addition to that a few more are defined which reflect the error returned in the MRB status word. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g2a64137d0941a60d8a7c65c60cf270d1">EMISS_MARKER</a>&nbsp;&nbsp;&nbsp;0x1001</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error indicates a missing marker in the message buffer command.  <a href="group__dcsc__msg__buffer__access.html#g2a64137d0941a60d8a7c65c60cf270d1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g0003c432c9b704625105bb7fda5e875e">EMISS_ENDMARKER</a>&nbsp;&nbsp;&nbsp;0x1002</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error indicates a missing end marker at the and of the message buffer command block.  <a href="group__dcsc__msg__buffer__access.html#g0003c432c9b704625105bb7fda5e875e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g784f97ba20855df7fdcfb165ba30ba4c">ENOTARGET</a>&nbsp;&nbsp;&nbsp;0x1003</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error in the communication between DCS board and RCU motherboard, no target answer.  <a href="group__dcsc__msg__buffer__access.html#g784f97ba20855df7fdcfb165ba30ba4c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g6a6e1cfe5a616e5424852a4519bd47a9">ENOBUSGRANT</a>&nbsp;&nbsp;&nbsp;0x1004</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error on the DCS board internally, no bus grant.  <a href="group__dcsc__msg__buffer__access.html#g6a6e1cfe5a616e5424852a4519bd47a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g78f0a660b0b99a94de586d9174999492">EOLDFORMAT</a>&nbsp;&nbsp;&nbsp;0x1005</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error indicates an old message buffer v1 format.  <a href="group__dcsc__msg__buffer__access.html#g78f0a660b0b99a94de586d9174999492"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Read/write access</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#gg0411cd49bb5b71852cecd93bcbf0ca2d369f66006fcdc9be0ebe0e56d0dce6c9">eUnknownSpec</a> =  0, 
<a class="el" href="group__dcsc__msg__buffer__access.html#gg0411cd49bb5b71852cecd93bcbf0ca2d1d0f8ecdb452c7ff543d75a98c9cc6b4">eVersion</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#gg0411cd49bb5b71852cecd93bcbf0ca2d203d36b00bb0c66542bfbb41283bca1f">eCommand</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#gg0411cd49bb5b71852cecd93bcbf0ca2d5c578774a774b0e23c176c8a045b742b">eNofWords</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#gg0411cd49bb5b71852cecd93bcbf0ca2d6678ba12b9d3d2b765aa92a0d12bc1b7">ePacked</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Operation specifier for the <a class="el" href="group__dcsc__msg__buffer__access.html#g975e68b162a4d0786e1902c895349b02">dcscGetHeaderAttribute</a> function.  <a href="group__dcsc__msg__buffer__access.html#g0411cd49bb5b71852cecd93bcbf0ca2d">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g5b2ecab6b0a6383afebde1ea486dae43">rcuSingleWrite</a> (__u32 address, __u32 data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a single location (32bit word).  <a href="group__dcsc__msg__buffer__access.html#g5b2ecab6b0a6383afebde1ea486dae43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g339b5922513d0f0211d7962234faa24f">rcuSingleRead</a> (__u32 address, __u32 *pData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a single location (32bit word).  <a href="group__dcsc__msg__buffer__access.html#g339b5922513d0f0211d7962234faa24f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#ge20afbfc92c897546e37126188804309">rcuMultipleWrite</a> (__u32 address, __u32 *pData, int iSize, int iDataSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a number of 32bit words beginning at a location.  <a href="group__dcsc__msg__buffer__access.html#ge20afbfc92c897546e37126188804309"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g602216accce6913989f8b04b36157cd6">rcuMultipleRead</a> (__u32 address, int iSize, __u32 *pData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a number of 32bit words beginning at a location.  <a href="group__dcsc__msg__buffer__access.html#g602216accce6913989f8b04b36157cd6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gf7be7371f7530e8eb6e07e6f0d969b04">dcscProvideMessageBuffer</a> (__u32 **ppBuffer, int *pSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provide the message buffer for direct access.  <a href="group__dcsc__msg__buffer__access.html#gf7be7371f7530e8eb6e07e6f0d969b04"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g4f25fcb80c8fad99d5d72f96e72bd941">dcscPrepareMessageBuffer</a> (__u32 **ppBuffer, int *pSize, unsigned int cmdID, unsigned int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepare the message buffer for a specific command.  <a href="group__dcsc__msg__buffer__access.html#g4f25fcb80c8fad99d5d72f96e72bd941"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g96f1fe73877d927a698a396df555767e">dcscExecuteCommand</a> (__u32 *<a class="el" href="dcscMsgBufferInterface_8c.html#7fe69f55846ac3a138c130665f1f1e49">pBuffer</a>, int iSize, __u32 **ppTarget, int *ppTargetSize, unsigned int operation)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute the message buffer command.  <a href="group__dcsc__msg__buffer__access.html#g96f1fe73877d927a698a396df555767e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g975e68b162a4d0786e1902c895349b02">dcscGetHeaderAttribute</a> (__u32 <a class="el" href="virtex__io_8h.html#f662138894a99f1d07d07f482b7c2691">header</a>, int iSpecifier)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract a part of the header word according to the specifier.  <a href="group__dcsc__msg__buffer__access.html#g975e68b162a4d0786e1902c895349b02"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g8dac87332689e82a586ef04eed99d083">dcscCheckMsgBlock</a> (__u32 *<a class="el" href="dcscMsgBufferInterface_8c.html#7fe69f55846ac3a138c130665f1f1e49">pBuffer</a>, int iSize, int iVerbosity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check a message block for correct format.  <a href="group__dcsc__msg__buffer__access.html#g8dac87332689e82a586ef04eed99d083"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Driver control functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#ggbed82baf7f470b522273a3e37c24c600da3c950575dcbbc7ca50d76a111d217d">eUnknownDriverCmd</a> = 0, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggbed82baf7f470b522273a3e37c24c600c0b7933997697a647dbfb83d828142f3">eLock</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggbed82baf7f470b522273a3e37c24c600fc021c4ba87bb9763ec7f4e07855d8f9">eUnlock</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggbed82baf7f470b522273a3e37c24c6001391714f3c5c8e7738e9b0e871dc3cce">eSeize</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#ggbed82baf7f470b522273a3e37c24c6001349887513e044eb25dceda6bc2c9429">eRelease</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggbed82baf7f470b522273a3e37c24c600be8853084b74223aab7a0a0c8150eb5a">eDeactivateLock</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggbed82baf7f470b522273a3e37c24c60052e15b8bac21d0241661e3caf289e745">eActivateLock</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Operation ids for the <a class="el" href="group__dcsc__msg__buffer__access.html#gb01774a452cb68f631a87d2d77ac79a5">dcscLockCtrl</a> function.  <a href="group__dcsc__msg__buffer__access.html#gbed82baf7f470b522273a3e37c24c600">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gb01774a452cb68f631a87d2d77ac79a5">dcscLockCtrl</a> (int cmd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock the driver.  <a href="group__dcsc__msg__buffer__access.html#gb01774a452cb68f631a87d2d77ac79a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g8dc96e96fb45e86a27c98fbe8d816edf">dcscDriverDebug</a> (unsigned int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set debug flags for the driver.  <a href="group__dcsc__msg__buffer__access.html#g8dc96e96fb45e86a27c98fbe8d816edf"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Bus control functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a5701615e05df0af61e9fae12f1b21e677d">eUnknownBusCtrl</a> = 0, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a577b8222808ce70929afddb10c7855f13a">eEnableSelectmap</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57e4c19a8b3abecb07f7e1a686e9e31b35">eDisableSelectmap</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a573b9d25a6fa4e461b6eb1756217e2ccdd">eEnableFlash</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a577c7ba96930a1249cc2049d4427fd9ac9">eDisableFlash</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57d12ce67d46f81ac74100f3d9a8058f25">eEnableMsgBuf</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a5702c0aacdb67187c6b37d3a42cdf857cc">eResetFirmware</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57d3e958eb3b288db3f4942dd3a81c6087">eReadCtrlReg</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a578e3fd457e9da4ecb682532b1f64ca2e2">eCheckSelectmap</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a574581ed60d70cf970eac090dd985e68e1">eCheckFlash</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57b8a5bc377b3c7d019be52e0da9e57565">eCheckMsgBuf</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57fa0c1e1d2d3baba10b94f02c4b2c7f01">eResetFlash</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57298817c93fab57042b42b0c23d3efdc4">eFlashID</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a5756591b8d17f10234722790d952ed8781">eFlashCtrlDCS</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a574a96ce967a91331568455c580e4a2ca1">eFlashCtrlActel</a>, 
<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57ec59997e5b2ac539cc85158012221f82">eEnableCompression</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__dcsc__msg__buffer__access.html#ggb04a0655cd1e3bcac5e8f48c18df1a57a371d588d9e5eb297b5e8c39d62bfe1c">eDisableCompression</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Command ids to the <a class="el" href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8">rcuBusControlCmd</a> function.  <a href="group__dcsc__msg__buffer__access.html#gb04a0655cd1e3bcac5e8f48c18df1a57">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8">rcuBusControlCmd</a> (int iCmd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Switch bits in the control register (firmware comstat).  <a href="group__dcsc__msg__buffer__access.html#gf74b29f8ded2feb57974c95e4863eac8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g7a5b0d57fbd0a68206468a01b0a63520">msgBufReadRegister</a> (int reg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the value of a register from the register buffer.  <a href="group__dcsc__msg__buffer__access.html#g7a5b0d57fbd0a68206468a01b0a63520"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g82e19c9d34c7ecebcba115d2a6393b6c">msgBufWriteRegister</a> (int reg, unsigned char value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write an 8 bit value to a register of the register buffer.  <a href="group__dcsc__msg__buffer__access.html#g82e19c9d34c7ecebcba115d2a6393b6c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Flash control functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g88debbd24075d2031add9459e4d90e2b">rcuFlashWrite</a> (__u32 address, __u32 *pData, int iSize, int iDataSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write to the RCU flash.  <a href="group__dcsc__msg__buffer__access.html#g88debbd24075d2031add9459e4d90e2b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g24164f14711ead31a7e542711f0a08b3">rcuFlashRead</a> (__u32 address, int iSize, __u32 *pData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a number of 16bit words from the flash memory.  <a href="group__dcsc__msg__buffer__access.html#g24164f14711ead31a7e542711f0a08b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g78e6fc883a098cf548e9d0ba618ecb16">rcuFlashErase</a> (int startSec, int stopSec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase sectors of the flash.  <a href="group__dcsc__msg__buffer__access.html#g78e6fc883a098cf548e9d0ba618ecb16"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Debug Message Control</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gc07186b103fbe4c39531665c95e22c7e">setDebugOptions</a> (int options)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the debug options.  <a href="group__dcsc__msg__buffer__access.html#gc07186b103fbe4c39531665c95e22c7e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g36bb01dae6dd6edf579fe9878f9c6a20">setDebugOptionFlag</a> (int of)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a debug option flag.  <a href="group__dcsc__msg__buffer__access.html#g36bb01dae6dd6edf579fe9878f9c6a20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g41201fc4dd5608bce4261b34eec28ca4">clearDebugOptionFlag</a> (int of)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clear a debug option flag.  <a href="group__dcsc__msg__buffer__access.html#g41201fc4dd5608bce4261b34eec28ca4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#g1b3027d209be85e9a8fbd14864c4b442">printBufferHex</a> (unsigned char *<a class="el" href="dcscMsgBufferInterface_8c.html#7fe69f55846ac3a138c130665f1f1e49">pBuffer</a>, int iBufferSize, int wordSize, const char *pMessage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print content of a buffer hexadecimal.  <a href="group__dcsc__msg__buffer__access.html#g1b3027d209be85e9a8fbd14864c4b442"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcsc__msg__buffer__access.html#gc44ca908f157f8de95b81638e298e08e">printBufferHexFormatted</a> (unsigned char *<a class="el" href="dcscMsgBufferInterface_8c.html#7fe69f55846ac3a138c130665f1f1e49">pBuffer</a>, int iBufferSize, int iWordSize, int iWordsPerRow, int iStartAddress, const char *pMessage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print content of a buffer hexadecimal formated with the address.  <a href="group__dcsc__msg__buffer__access.html#gc44ca908f157f8de95b81638e298e08e"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The Message Buffer Interface. This file implements the <a class="el" href="group__dcsc__msg__buffer__access.html">Message Buffer Encoding</a>. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Matthias Richter </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd></dd></dl>

<p>
Definition in file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="e30e07831b0e50dfd84e128a1317ba6a"></a><!-- doxytag: member="dcscMsgBufferInterface.h::FLASH_ERASE_SEC" ref="e30e07831b0e50dfd84e128a1317ba6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ERASE_SEC&nbsp;&nbsp;&nbsp;0x22          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Erase one sector of the flash The command is specific to the rcu flash access, available since version 2.2. 
<p>
of the DCSboard firmware. payload:<br>
 1 data word: sector address 
<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00180">180</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02311">rcuFlashErase()</a>.
</div>
</div><p>
<a class="anchor" name="75c771d18b83c211d2acccb56d2168be"></a><!-- doxytag: member="dcscMsgBufferInterface.h::FLASH_ERASEALL" ref="75c771d18b83c211d2acccb56d2168be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ERASEALL&nbsp;&nbsp;&nbsp;0x21          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Erase the flash completely. 
<p>
The command is specific to the rcu flash access, available since version 2.2. of the DCSboard firmware. payload:<br>
 no data words 
<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00171">171</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02311">rcuFlashErase()</a>.
</div>
</div><p>
<a class="anchor" name="2dd7ad391d9119b630d0774285d720e8"></a><!-- doxytag: member="dcscMsgBufferInterface.h::FLASH_MULTI_ERASE" ref="2dd7ad391d9119b630d0774285d720e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_MULTI_ERASE&nbsp;&nbsp;&nbsp;0x24          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Erase multiple sectors of the flash. 
<p>
The command is specific to the rcu flash access, available since version 2.2. of the DCSboard firmware. payload:<br>
 2 data words: sector address and count 
<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00189">189</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02311">rcuFlashErase()</a>.
</div>
</div><p>
<a class="anchor" name="9f8860f817da497ce396878c1dc143ea"></a><!-- doxytag: member="dcscMsgBufferInterface.h::FLASH_READID" ref="9f8860f817da497ce396878c1dc143ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_READID&nbsp;&nbsp;&nbsp;0x28          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the ID of the flash. 
<p>
The command is specific to the rcu flash access, available since version 2.2. of the DCSboard firmware. payload:<br>
 1 data word: 0 manufacturer id, 1 device id 
<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00198">198</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02429">rcuFlashID()</a>.
</div>
</div><p>
<a class="anchor" name="9b890baacac98cc88ef06e9032a40e34"></a><!-- doxytag: member="dcscMsgBufferInterface.h::FLASH_RESET" ref="9b890baacac98cc88ef06e9032a40e34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_RESET&nbsp;&nbsp;&nbsp;0x30          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Code for the flash reset command. 
<p>
The command is specific to the rcu flash access, available since version 2.2. of the DCSboard firmware. payload:<br>
 no data words 
<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00207">207</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l02531">rcuFlashReset()</a>.
</div>
</div><p>
<a class="anchor" name="a91382f3c0cd13e011f70c5f50d088f3"></a><!-- doxytag: member="dcscMsgBufferInterface.h::MULTI_READ" ref="a91382f3c0cd13e011f70c5f50d088f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MULTI_READ&nbsp;&nbsp;&nbsp;0x3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Code for the 'multiple read' command. 
<p>
payload:<br>
<ul>
<li>32 bit address word</li><li>32 bit number of words </li></ul>

<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00141">141</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l01465">rcuMultipleReadExt()</a>.
</div>
</div><p>
<a class="anchor" name="dcd13dece10a23c37b7ac2a253781625"></a><!-- doxytag: member="dcscMsgBufferInterface.h::MULTI_WRITE" ref="dcd13dece10a23c37b7ac2a253781625" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MULTI_WRITE&nbsp;&nbsp;&nbsp;0x4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Code for the 'multiple write' command. 
<p>
payload:<br>
<ul>
<li>32 bit address word</li><li>32 bit number of words</li><li>32 bit data words </li></ul>

<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00150">150</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l01261">rcuMultipleWriteExt()</a>.
</div>
</div><p>
<a class="anchor" name="71c4360ee488f413767765dd074cb92c"></a><!-- doxytag: member="dcscMsgBufferInterface.h::RANDOM_READ" ref="71c4360ee488f413767765dd074cb92c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANDOM_READ&nbsp;&nbsp;&nbsp;0x5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Code for the 'random read' command. 
<p>
payload:<br>
 
<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00156">156</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
</div>
</div><p>
<a class="anchor" name="63a1fcd9162178ede0cbd908ed592038"></a><!-- doxytag: member="dcscMsgBufferInterface.h::RANDOM_WRITE" ref="63a1fcd9162178ede0cbd908ed592038" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANDOM_WRITE&nbsp;&nbsp;&nbsp;0x6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Code for the 'random write' command. 
<p>
payload:<br>
 
<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00162">162</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
</div>
</div><p>
<a class="anchor" name="6030c0d300916fd8ca54d740bbddd58a"></a><!-- doxytag: member="dcscMsgBufferInterface.h::SINGLE_READ" ref="6030c0d300916fd8ca54d740bbddd58a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SINGLE_READ&nbsp;&nbsp;&nbsp;0x1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Code for the 'single read' command. 
<p>
payload:<br>
<ul>
<li>32 bit address word </li></ul>

<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00125">125</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l01424">rcuSingleReadExt()</a>.
</div>
</div><p>
<a class="anchor" name="155e21b5b6b1a7ee2ff293e43b2647af"></a><!-- doxytag: member="dcscMsgBufferInterface.h::SINGLE_WRITE" ref="155e21b5b6b1a7ee2ff293e43b2647af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SINGLE_WRITE&nbsp;&nbsp;&nbsp;0x2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Code for the 'single write' command. 
<p>
payload:<br>
<ul>
<li>32 bit address word</li><li>32 bit data word </li></ul>

<p>
Definition at line <a class="el" href="dcscMsgBufferInterface_8h-source.html#l00133">133</a> of file <a class="el" href="dcscMsgBufferInterface_8h-source.html">dcscMsgBufferInterface.h</a>.
<p>
Referenced by <a class="el" href="dcscMsgBufferInterface_8c-source.html#l01232">rcuSingleWriteExt()</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on 12 Nov 2013 for RCU linux tools and drivers for the DCS board  by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
